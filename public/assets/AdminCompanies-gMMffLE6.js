import{d as B,r as u,p as E,k as U,O as R,o as n,c,b as s,t as i,B as d,f as C,w as M,v as P,q as D,s as r,e as V,A as g,C as j,D as G,_ as Y}from"./index-bJf0D_xI.js";import{a as I}from"./index-DNXFy-b_.js";import{u as $}from"./adminParamsStore-BaX_Kbe9.js";const a=_=>(j("data-v-65c3cbb5"),_=_(),G(),_),F={class:"container"},q=a(()=>s("h5",{class:"fw-bold page-title mb-2"}," Companies Overview",-1)),H=a(()=>s("div",{class:"mb-3"}," Have a Glance of this company Informaiton",-1)),z={class:"row g-3 mb-5"},J={class:"col-md-4"},K={class:"card border-0 shadow-sm h-100"},Q={class:"card-body"},W={class:"d-flex justify-content-between align-items-cente"},X={class:"col-6"},Z={class:"fs-4 fw-bold text-mute"},ss=a(()=>s("div",null,[s("span",{class:"small"},"Active Companies")],-1)),es={class:"col-6"},ts={class:"col-md-4"},os={class:"card border-0 shadow-sm h-100"},as={class:"card-body"},ns={class:"d-flex justify-content-between align-items-cente"},is={class:"col-6"},ls={class:"fs-4 fw-bold text-mute"},cs=a(()=>s("div",null,[s("span",{class:"small"},"Pending incopration")],-1)),ds={class:"col-6"},rs={class:"col-md-4"},_s={class:"card border-0 shadow-sm h-100"},ps={class:"card-body"},hs={class:"d-flex justify-content-between align-items-cente"},ms={class:"col-6"},us={class:"fs-4 fw-bold text-mute"},gs=a(()=>s("div",null,[s("span",{class:"small"},"Companies Incorporated")],-1)),bs={class:"col-6"},vs={class:"col-12 mt-5"},fs={class:"card shadow-sm"},Cs={class:"card-header bg-transparent fw-bold py-3 border-0"},xs=a(()=>s("br",null,null,-1)),ys=a(()=>s("small",null," List of all registered company using the company formation",-1)),ws={style:{float:"right"}},Is={key:1,class:"card-body"},Ss={class:"fw-bold text-muted"},Ns={class:"list-group list-group-flush"},Ts={class:"list-group-item"},ks=a(()=>s("span",null,"FORM FILLING STATUS: ",-1)),As={key:0,class:"badge bg-success-subtle text-dark"},Os={key:1,class:"badge bg-warning-subtle text-dark"},Ls={class:"list-group-item"},Bs=a(()=>s("span",null,"PAYMENT STATUS: ",-1)),Es={key:0,class:"badge bg-success-subtle text-dark"},Us={key:1,class:"badge bg-warning-subtle text-dark"},Rs={class:"list-group-item"},Ms=a(()=>s("span",null,"INCOPRATION STATUS: ",-1)),Ps={key:0,class:"badge bg-success-subtle text-dark"},Ds={key:1,class:"badge bg-warning-subtle text-dark"},Vs=a(()=>s("i",{class:"bi bi-exclamation-circle"},null,-1)),js=B({__name:"AdminCompanies",setup(_){const p=$(),b=u(""),e=E({list:[],form_completed:[],is_incorporated:[],isLoading:!0}),S=h=>{const l=h.id,t=e.list.find(o=>o.id==l).names.find(o=>o.choice_level==1),v=t!=null&&t.eng_name?(t==null?void 0:t.eng_name)+" "+(t==null?void 0:t.eng_prefix):"",f=t!=null&&t.chn_name?(t==null?void 0:t.chn_name)+" "+(t==null?void 0:t.chn_prefix):"";return`${v} ${f}`};U(()=>{N()}),R(()=>{p.isCompaniesByUser=""});async function N(){try{const l=(p.isCompaniesByUser?await I.getCompaniesByUserID(p.isCompaniesByUser):await I.getCompanies()).data.data;e.list=l.companies,e.form_completed=l.form_completed,e.is_incorporated=l.is_incorporated,e.isLoading=!1,k()}catch{}}const T=[{text:"COMPANY NAME",value:"name"},{text:"REGISTRATION NUMBER",value:"business_reg_no"},{text:"INCORPORATION STATUSES",value:"incorporation_statuses"},{text:"MAIN CONTACT",value:"contact"},{text:"SERVICE",value:"company_services"},{text:"PAYMENT STATUS",value:"payment_status"},{text:"ACTION",value:"action"}],x=u([1,1]),y=u([1,1]),w=u([1,1]);function k(){x.value=[e.list.length,e.list.length],y.value=[e.list.length-e.is_incorporated.length,e.list.length-(e.list.length-e.is_incorporated.length)],w.value=[e.is_incorporated.length,e.list.length-e.is_incorporated.length]}const A={colors:["#064608","#46320633"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]},O={colors:["#16497c","#46320633"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]},L={colors:["#463206","#46320633"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]};return(h,l)=>{const m=g("apexchart"),t=g("isLoadingComponent"),v=g("router-link"),f=g("EasyDataTable");return n(),c("div",F,[q,H,s("div",z,[s("div",J,[s("div",K,[s("div",Q,[s("div",W,[s("div",X,[s("span",Z,i(e.list.length)+"/"+i(e.list.length),1),ss]),s("div",es,[d(m,{type:"pie",options:A,series:x.value},null,8,["series"])])])])])]),s("div",ts,[s("div",os,[s("div",as,[s("div",ns,[s("div",is,[s("span",ls,i(e.list.length-e.is_incorporated.length)+"/"+i(e.list.length),1),cs]),s("div",ds,[d(m,{type:"pie",options:O,series:y.value},null,8,["series"])])])])])]),s("div",rs,[s("div",_s,[s("div",ps,[s("div",hs,[s("div",ms,[s("span",us,i(e.is_incorporated.length)+"/"+i(e.list.length),1),gs]),s("div",bs,[d(m,{type:"pie",options:L,series:w.value},null,8,["series"])])])])])]),s("div",vs,[s("div",fs,[s("div",Cs,[C(" Registered Companies ("+i(e.list.length)+")",1),xs,ys,s("span",ws,[M(s("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>b.value=o),placeholder:"Search Item",style:{border:"1px solid #eee"},class:"form-control"},null,512),[[P,b.value]])])]),e.isLoading?(n(),D(t,{key:0})):(n(),c("div",Is,[d(f,{"search-value":b.value,style:{border:"1px solid #eee"},class:"easy-data-table",headers:T,items:e.list,"buttons-pagination":""},{header:r(o=>[s("span",Ss,i(o.text=="#"?"S/N":o.text),1)]),"item-name":r(o=>[C(i(S(o)),1)]),"item-incorporation_statuses":r(o=>[s("ul",Ns,[s("li",Ts,[ks,o.is_complete?(n(),c("span",As,"Complete")):(n(),c("span",Os,"Not Complete"))]),s("li",Ls,[Bs,o.billing?(n(),c("span",Es,"Complete")):(n(),c("span",Us,"Not Complete"))]),s("li",Rs,[Ms,o.is_incorporated?(n(),c("span",Ps,"Incorporated")):(n(),c("span",Ds,"Not Incorporated"))])])]),"item-action":r(o=>[d(v,{onClick:Gs=>V(p).currentCompanyId=o.id,class:"text-decoration-none",to:"/admin/company"},{default:r(()=>[Vs,C(" Details ")]),_:2},1032,["onClick"])]),_:1},8,["search-value","items"])]))])])])])}}}),qs=Y(js,[["__scopeId","data-v-65c3cbb5"]]);export{qs as default};
