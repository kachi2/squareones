import{d as q,r as _,q as z,l as Q,Q as K,A as W,o as i,c as d,b as s,C as h,x as r,t as c,f as u,w as X,v as Z,s as ss,e as M,H as U,I as es,B as C,D as ts,E as os,_ as as}from"./index-Cx72Huz2.js";import{a as g}from"./index-DONKfzbq.js";import{u as ns}from"./adminParamsStore-Da-Wnp2K.js";import{u as ls}from"./AdminStartCompany_store-Jp8PkrqB.js";import"./country-Dh2q9MdB.js";const o=y=>(ts("data-v-2585037e"),y=y(),os(),y),is={class:"container"},cs=o(()=>s("h5",{class:"fw-bold page-title mb-2"}," Companies Overview",-1)),ds=o(()=>s("div",{class:"mb-3"}," Have a Glance of this company Informaiton",-1)),rs={class:"row g-3 mb-5"},_s={class:"col-md-4 pb-3"},ps={class:"card border-0 shadow-sm h-70"},us={class:"card-body"},ms={class:"d-flex justify-content-between align-items-cente"},hs={class:"col-12"},bs={class:"fs-4 fw-bold text-primary"},vs=o(()=>s("span",{class:"small fw-bold"},"Total Companies",-1)),gs={style:{"font-size":"10px"},class:""},ys={class:"text-info fw-bold"},fs={class:"small badge bg-success"},xs={class:"small badge bg-danger"},Ss={class:"col-md-4"},Cs={class:"card border-0 shadow-sm h-70"},ws={class:"card-body"},ks={class:"d-flex justify-content-between align-items-cente"},Is={class:"col-12"},Ns={class:"fs-4 fw-bold text-warning"},Ts=o(()=>s("div",null,[s("span",{class:"small fw-bold"},"Pending Incorporation")],-1)),As={class:"small"},Os={class:"text-primary fw-bold"},Ms={class:"col-md-4"},Us={class:"card border-0 shadow-sm h-70"},Es={class:"card-body"},Ds={class:"d-flex justify-content-between align-items-cente"},Ls={class:"col-12"},Vs={class:"fs-4 fw-bold text-success"},Bs=o(()=>s("div",null,[s("span",{class:"small fw-bold"},"Incorporated")],-1)),Ps={class:"small"},Rs={class:"text-primary fw-bold"},Js={class:"col-12 mt-1"},Fs={class:"card shadow-sm"},$s={class:"card-header bg-transparent fw-bold py-3 border-0"},js=o(()=>s("br",null,null,-1)),Gs=o(()=>s("small",null," List of all registered company using the company formation",-1)),Ys={style:{float:"right"}},Hs={key:1,class:"card-body"},qs={class:"fw-bold text-muted"},zs={class:"list-group list-group-flush"},Qs={class:"list-group-item"},Ks=o(()=>s("span",null,"FORM FILLING STATUS: ",-1)),Ws={key:0,class:"badge bg-success-subtle text-dark"},Xs={key:1,class:"badge bg-warning-subtle text-dark"},Zs={class:"list-group-item"},se=o(()=>s("span",null,"PAYMENT STATUS: ",-1)),ee={key:0,class:"badge bg-success-subtle text-dark"},te={key:1,class:"badge bg-warning-subtle text-dark"},oe={class:"list-group-item"},ae=o(()=>s("span",null,"INCOPRATION STATUS: ",-1)),ne={key:0,class:"badge bg-success-subtle text-dark"},le={key:1,class:"badge bg-warning-subtle text-dark"},ie={class:"list-group list-group-flush"},ce={class:"list-group-item"},de=o(()=>s("span",null,"Name:",-1)),re={class:"list-group-item"},_e=o(()=>s("span",null,"Email:",-1)),pe={class:"list-group-item"},ue=o(()=>s("span",null,"Status:",-1)),me={key:0},he=o(()=>s("span",{class:"badge bg-success-subtle text-dark ms-2"},"Verified",-1)),be=[he],ve={key:1},ge=o(()=>s("span",{class:"badge bg-warning-subtle text-dark ms-2"},"Not Verified",-1)),ye=[ge],fe={key:0,class:"badge bg-success-subtle text-dark"},xe={key:1,class:"badge bg-warning-subtle text-dark"},Se=["onClick"],Ce=o(()=>s("i",{class:"bi bi-plus-lg"},null,-1)),we={class:"list-group list-group-flush"},ke={class:"list-group-item"},Ie=o(()=>s("i",{class:"bi bi-exclamation-circle"},null,-1)),Ne={class:"list-group-item"},Te=o(()=>s("i",{class:"bi bi-eye-fill"},null,-1)),Ae={class:"list-group-item"},Oe=["href"],Me=o(()=>s("i",{class:"bi bi-eye-fill"},null,-1)),Ue={class:"modal fade",id:"modalId",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false",role:"dialog","aria-labelledby":"modalTitleId","aria-hidden":"true"},Ee={class:"modal-dialog modal-dialog-centered",role:"document"},De={class:"modal-content"},Le=o(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"modalTitleId"}," Services "),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ve={class:"modal-body"},Be={class:"fixed-label-custom"},Pe=o(()=>s("label",{class:"",for:"nameeee"},"Services:",-1)),Re={class:"modal-footer"},Je=o(()=>s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)),Fe=["disabled"],$e=q({__name:"AdminCompanies",setup(y){const f=ns(),E=ls(),w=_(""),l=z({list:[],form_completed:[],is_incorporated:[],isLoading:!0}),N=_([]),m=_([]);async function D(){var a,n;try{const p=await g.getCompanyStats();N.value=((a=p.data)==null?void 0:a.data.company)??[],m.value=((n=p.data)==null?void 0:n.data)??[]}catch{}}const k=_([]);async function T(){var a;try{const n=await g.adminServices();k.value=((a=n.data)==null?void 0:a.data)??[]}catch{}}Q(async()=>{await T(),A(),D()}),K(()=>{f.isCompaniesByUser=""});async function A(){try{const n=(f.isCompaniesByUser?await g.getCompaniesByUserID(f.isCompaniesByUser):await g.getCompanies()).data.data;l.list=n.companies,l.form_completed=n.form_completed,l.is_incorporated=n.is_incorporated,l.isLoading=!1,J()}catch{}}const L=[{text:"COMPANY NAME",value:"name"},{text:"REGISTRATION NUMBER",value:"business_reg_no"},{text:"INCORPORATION STATUSES",value:"incorporation_statuses"},{text:"MAIN CONTACT",value:"contact"},{text:"SERVICE",value:"services"},{text:"PAYMENT STATUS",value:"is_paid"},{text:"ACTION",value:"action"}],V=a=>{try{return a?JSON.parse(JSON.parse(a)).toString():""}catch{return""}},B=_([1,1]),P=_([1,1]),R=_([1,1]);function J(){B.value=[l.list.length,l.list.length],P.value=[l.list.length-l.is_incorporated.length,l.list.length-(l.list.length-l.is_incorporated.length)],R.value=[l.is_incorporated.length,l.list.length-l.is_incorporated.length]}const I=_(null),x=_(!1),S=_([]),O=_(""),F=W(()=>{let a=[];return k.value.length&&(a=k.value.map(n=>n.name)),a});function $(a,n){try{S.value=a?JSON.parse(JSON.parse(a)):[]}catch{}O.value=n,I.value.click()}async function j(){try{x.value=!0;const a=new FormData;a.append("service",JSON.stringify(S.value));const n=await g.adminServicesStore(a,O.value);I.value.click(),x.value=!1,A(),T()}catch{x.value=!1}}return(a,n)=>{const p=C("router-link"),G=C("isLoadingComponent"),Y=C("EasyDataTable"),H=C("v-select");return i(),d(U,null,[s("div",is,[cs,ds,s("div",rs,[s("div",_s,[h(p,{to:"/admin/companies",style:{"text-decoration":"none"}},{default:r(()=>{var e,t,b,v;return[s("div",ps,[s("div",us,[s("div",ms,[s("div",hs,[s("span",bs,c((e=N.value)==null?void 0:e.length),1),s("div",null,[vs,u("   "),s("small",gs,[s("span",ys,c((t=m.value)==null?void 0:t.thismonth),1),u(" added this month")])]),s("div",null,[s("span",fs,c((b=m.value)==null?void 0:b.active)+" active ",1),u("   "),s("span",xs,c((v=m.value)==null?void 0:v.inactive)+" Inactive ",1)])])])])])]}),_:1})]),s("div",Ss,[h(p,{to:"/admin/companies",style:{"text-decoration":"none"}},{default:r(()=>{var e,t;return[s("div",Cs,[s("div",ws,[s("div",ks,[s("div",Is,[s("span",Ns,c((e=m.value)==null?void 0:e.Unincorporated),1),Ts,s("div",null,[s("span",As,[s("span",Os,c((t=m.value)==null?void 0:t.thisMonthUnIncorporated),1),u(" new company added this month")])])])])])])]}),_:1})]),s("div",Ms,[h(p,{to:"/admin/companies",style:{"text-decoration":"none"}},{default:r(()=>{var e,t;return[s("div",Us,[s("div",Es,[s("div",Ds,[s("div",Ls,[s("span",Vs,c(((e=m.value)==null?void 0:e.incorporated)??"0"),1),Bs,s("div",null,[s("span",Ps,[s("span",Rs,c(((t=m.value)==null?void 0:t.thisMonthIncorporated)??"0"),1),u(" new companies added this month")])])])])])])]}),_:1})]),s("div",Js,[s("div",Fs,[s("div",$s,[u(" Registered Companies ("+c(l.list.length)+")",1),js,Gs,s("span",Ys,[X(s("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>w.value=e),placeholder:"Search company",style:{border:"1px solid #eee"},class:"form-control"},null,512),[[Z,w.value]])])]),l.isLoading?(i(),ss(G,{key:0})):(i(),d("div",Hs,[h(Y,{"search-value":w.value,style:{border:"1px solid #eee"},class:"easy-data-table",headers:L,items:l.list,"buttons-pagination":""},{header:r(e=>[s("span",qs,c(e.text=="#"?"S/N":e.text),1)]),"item-name":r(e=>{var t;return[s("span",null,c((t=e==null?void 0:e.registered_company)==null?void 0:t.company_registered_name),1)]}),"item-business_reg_no":r(e=>{var t;return[s("span",null,c((t=e==null?void 0:e.registered_company)==null?void 0:t.business_registered_number),1)]}),"item-incorporation_statuses":r(e=>[s("ul",zs,[s("li",Qs,[Ks,e.is_complete?(i(),d("span",Ws,"Complete")):(i(),d("span",Xs,"Not Complete"))]),s("li",Zs,[se,e.billing?(i(),d("span",ee,"Complete")):(i(),d("span",te,"Not Complete"))]),s("li",oe,[ae,e.is_incorporated?(i(),d("span",ne,"Incorporated")):(i(),d("span",le,"Not Incorporated"))])])]),"item-contact":r(e=>{var t,b,v;return[s("ul",ie,[s("li",ce,[de,s("span",null,c((t=e==null?void 0:e.main_contact)==null?void 0:t.name),1)]),s("li",re,[_e,s("span",null,c((b=e==null?void 0:e.main_contact)==null?void 0:b.email),1)]),s("li",pe,[ue,(v=e==null?void 0:e.main_contact)!=null&&v.email_verified_at?(i(),d("span",me,be)):(i(),d("span",ve,ye))])])]}),"item-is_paid":r(e=>[e.is_paid===1?(i(),d("span",fe,"Paid")):(i(),d("span",xe,"Pending"))]),"item-services":r(e=>[s("div",null,c(V(e.services)),1),s("button",{onClick:t=>$(e.services,e.id),class:"btn btn-secondary py-0 p-1 btn-sm xsmall mt-1 text-nowrap"},[u(" Update "),Ce],8,Se)]),"item-action":r(e=>[s("ul",we,[s("li",ke,[h(p,{onClick:t=>M(f).currentCompanyId=e.id,class:"text-decoration-none",to:"/admin/company"},{default:r(()=>[Ie,u(" Details ")]),_:2},1032,["onClick"])]),s("li",Ne,[h(p,{onClick:t=>M(E).currentCompanyId=e.id,class:"text-decoration-none",to:`/admin/company-edit?company=${e.id}`},{default:r(()=>[Te,u(" View form ")]),_:2},1032,["onClick","to"])]),s("li",Ae,[(i(!0),d(U,null,es(JSON.parse(e==null?void 0:e.pdf_doc),t=>(i(),d("span",null,[s("a",{class:"text-decoration-none",href:t,target:"_blank"},[Me,u(" View PDF")],8,Oe)]))),256))])])]),_:1},8,["search-value","items"])]))])])])]),s("button",{ref_key:"servicesModalToggle",ref:I,type:"button",class:"btn d-none","data-bs-toggle":"modal","data-bs-target":"#modalId"},null,512),s("div",Ue,[s("div",Ee,[s("div",De,[Le,s("div",Ve,[s("div",Be,[h(H,{multiple:!0,modelValue:S.value,"onUpdate:modelValue":n[1]||(n[1]=e=>S.value=e),clearable:!0,options:F.value,taggable:""},null,8,["modelValue","options"]),Pe])]),s("div",Re,[Je,s("button",{disabled:x.value,onClick:j,type:"button",class:"btn btn-primary"}," Update Services ",8,Fe)])])])])],64)}}}),ze=as($e,[["__scopeId","data-v-2585037e"]]);export{ze as default};
