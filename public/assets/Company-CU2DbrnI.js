import{u as H}from"./paramsStore-D8BtViAo.js";import{u as p}from"./useFunctions-DKE50-Xq.js";import{a as A}from"./index-BBikUg89.js";import"./index.esm-C9caZ6ES.js";import{d as M,r as D,z as te,p as z,k as ee,l as P,o as g,c as b,b as e,f as i,t as n,e as d,y as X,g as j,G as Z,H as Q,j as Oe,O as Ie,C as B,D as G,_ as F,B as T,s as r,A as U,q as ae,w as be,v as ke,x as Le,M as Re}from"./index-BL3LKqUo.js";import{d as fe}from"./index-BZpHW-yP.js";import{p as Ae}from"./pageLoadingComponent-Dk1781fe.js";const q=u=>(B("data-v-471b7c0c"),u=u(),G(),u),Ne={class:"row g-3"},Ee={class:"card h-100 shadow-sm"},Pe=q(()=>e("div",{class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},"Information ",-1)),Me={class:"card-body small rounded-3"},Ue={class:"list-group list-group-flush"},He={class:"list-group-item ps-0"},Fe={class:"float-end"},Be={class:"list-group-item ps-0"},Ge={class:"float-end"},je={class:"list-group-item ps-0"},Ve={class:"float-end"},ze={class:"list-group-item ps-0"},Ke={class:"float-end"},Ye={class:"list-group-item ps-0"},qe={class:"float-end"},Je={class:"list-group-item ps-0"},We={class:"float-end"},Xe={key:0,class:"col-md-6"},Ze={class:"card h-100 shadow-sm",style:{"min-height":"400px"}},Qe={class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},et={class:"float-end"},tt={class:"dropdown"},at={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},st={class:"card-body small rounded-3"},ot=q(()=>e("div",{class:"fw-bold"},"Tax Ready",-1)),nt=q(()=>e("div",{class:"text-mute my-3"}," To pay your company’s formation fee, make sure you’re not using an anonymous IP address or a VPN. ",-1)),rt=q(()=>e("div",{class:"my-3"}," Tax ID (EIN) ",-1)),it=q(()=>e("hr",null,null,-1)),dt={class:"container mt-5"},ct={class:"row justify-content-center"},lt={class:"col-lg-9"},_t={class:"progress-container"},pt=q(()=>e("div",{class:"progress-line"},null,-1)),mt=Oe('<div class="phase-label phase-1" data-v-471b7c0c>Set up <br data-v-471b7c0c> company</div><div class="phase-label phase-2" data-v-471b7c0c>Preparing <br data-v-471b7c0c> Incorporation </div><div class="phase-label phase-3" data-v-471b7c0c>Filling<br data-v-471b7c0c>Documents</div><div class="phase-label phase-4" data-v-471b7c0c>Company<br data-v-471b7c0c>Incorporated</div><div class="phase-label phase-5" data-v-471b7c0c>Tax ID<br data-v-471b7c0c>Ready</div>',5),ut={class:"col-md-6"},vt={class:"card h-100 shadow-sm",style:{border:"none"}},gt=q(()=>e("div",{class:"fw-bold card-header py-3 fs-5 bg-transparent border-0"}," Registered Office and Contact ",-1)),ht={class:"card-body"},bt={class:"list-group list-group-flush"},ft={class:"list-group-item ps-0"},yt={class:"float-end"},xt={class:"list-group-item ps-0"},Dt={class:"float-end"},wt={class:"list-group-item ps-0"},Ct={class:"float-end"},$t={class:"list-group-item ps-0"},Tt={class:"float-end"},St={class:"list-group-item ps-0"},Ot={class:"float-end"},It={class:"list-group-item ps-0"},kt={class:"float-end"},Lt={class:"col-md-6"},Rt={class:"card h-100 shadow-sm",style:{border:"none"}},At=q(()=>e("div",{class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},"Compliance and Reporting ",-1)),Nt={class:"card-body"},Et={class:"list-group list-group-flush"},Pt={class:"list-group-item ps-0"},Mt={class:"float-end"},Ut={class:"list-group-item ps-0"},Ht={class:"float-end"},Ft={class:"list-group-item ps-0"},Bt={class:"float-end"},Gt={class:"list-group-item ps-0"},jt={class:"float-end"},Vt=M({__name:"companyDetails",setup(u){const y=D(!0);function S(t){return y.value=t,y.value}const w=te(()=>y.value?"col-md-6":"col-md-12"),m=H();let h=D("");const c=z({a:!1,b:!1,c:!1,d:!1,e:!1});ee(async()=>{I()}),P(()=>m.hasUpdatedProgress,()=>{I()});function I(){var t;c.a=!1,c.b=!1,c.c=!1,c.d=!1,c.e=!1,h=(t=m.currentCompanyData)==null?void 0:t.registered_company,(h==null?void 0:h.registration_progress_id)==5?(c.a=!0,c.b=!0,c.c=!0,c.d=!0,c.e=!0):(h==null?void 0:h.registration_progress_id)==4?(c.a=!0,c.b=!0,c.c=!0,c.d=!0):(h==null?void 0:h.registration_progress_id)==3?(c.a=!0,c.b=!0,c.c=!0):(h==null?void 0:h.registration_progress_id)==2?(c.a=!0,c.b=!0):(h==null?void 0:h.registration_progress_id)==1&&(c.a=!0)}const x=()=>{var s,o;let t=[];const a=(o=(s=m.currentCompanyData)==null?void 0:s.office_contract)==null?void 0:o.directors;return a&&(t=JSON.parse(a)),t},l=()=>{var s,o;let t=[];const a=(o=(s=m.currentCompanyData)==null?void 0:s.office_contract)==null?void 0:o.shareholders;return a&&(t=JSON.parse(a)),t};function _(t){return t?Ie(t,"MMM, DD").value:"-"}return(t,a)=>{var s,o,f,C,N,k,L,V,K,$,v,R,E,O,J,ne,re,ie,de,ce,le,_e,pe,me,ue,ve,ge,he;return g(),b("div",Ne,[e("div",{class:X(w.value)},[e("div",Ee,[Pe,e("div",Me,[e("ul",Ue,[e("li",He,[i(" Company Name: "),e("span",Fe,n((o=(s=d(m).currentCompanyData)==null?void 0:s.registered_company)==null?void 0:o.company_registered_name),1)]),e("li",Be,[i(" Business Registration Number (BRN): "),e("span",Ge,n((C=(f=d(m).currentCompanyData)==null?void 0:f.registered_company)==null?void 0:C.business_registered_number),1)]),e("li",je,[i(" Incorporation Date: "),e("span",Ve,n(d(p).dateDisplay((k=(N=d(m).currentCompanyData)==null?void 0:N.registered_company)==null?void 0:k.incorporated_date)),1)]),e("li",ze,[i(" Company Structure: "),e("span",Ke,n((V=(L=d(m).currentCompanyData)==null?void 0:L.registered_company)==null?void 0:V.company_structure),1)]),e("li",Ye,[i(" Company Registered In: "),e("span",qe,n(($=(K=d(m).currentCompanyData)==null?void 0:K.registered_company)==null?void 0:$.company_registered),1)]),e("li",Je,[i(" Business Classification: "),e("span",We,n((R=(v=d(m).currentCompanyData)==null?void 0:v.registered_company)==null?void 0:R.business_classification),1)])])])])],2),y.value?(g(),b("div",Xe,[e("div",Ze,[e("div",Qe,[i("Incorporation "),e("span",et,[e("span",tt,[e("span",at,[e("button",{type:"button",onClick:a[0]||(a[0]=W=>S(!1)),class:"btn btn-outline-danger btn-sm"}," X")])])])]),e("div",st,[ot,nt,rt,it,e("div",dt,[e("div",ct,[e("div",lt,[e("div",_t,[pt,e("i",{class:X(c.a?"bi  bi-check-circle-fill text-success phase phase-1":"bi  bi-circle text-warning phase phase-1")},null,2),e("i",{class:X(c.b?"bi  bi-check-circle-fill text-success phase phase-2":"bi  bi-circle text-warning phase phase-2")},null,2),e("i",{class:X(c.c?"bi  bi-check-circle-fill text-success phase phase-3":"bi  bi-circle text-warning phase phase-3")},null,2),e("i",{class:X(c.d?"bi  bi-check-circle-fill text-success phase phase-4":"bi  bi-circle text-warning phase phase-4")},null,2),e("i",{class:X(c.e?"bi  bi-check-circle-fill text-success phase phase-5":"bi  bi-circle text-warning phase phase-5")},null,2),mt])])])])])])])):j("",!0),e("div",ut,[e("div",vt,[gt,e("div",ht,[e("ul",bt,[e("li",ft,[i(n(x().length==1?"Director":"Directors")+": ",1),e("span",yt,[(g(!0),b(Z,null,Q(x(),W=>(g(),b("div",{key:W},n(W),1))),128))])]),e("li",xt,[i(n(l().length==1?"Shareholder":"Shareholders")+" ",1),e("span",Dt,[(g(!0),b(Z,null,Q(l(),W=>(g(),b("div",{key:W},n(W),1))),128))])]),e("li",wt,[i(" Company Secretary: "),e("span",Ct,n((O=(E=d(m).currentCompanyData)==null?void 0:E.office_contract)==null?void 0:O.company_secretary),1)]),e("li",$t,[i(" Registered office: "),e("span",Tt,n((ne=(J=d(m).currentCompanyData)==null?void 0:J.office_contract)==null?void 0:ne.registered_office),1)]),e("li",St,[i(" Business address: "),e("span",Ot,n((ie=(re=d(m).currentCompanyData)==null?void 0:re.office_contract)==null?void 0:ie.business_address),1)]),e("li",It,[i(" Designated Rep.: "),e("span",kt,n((ce=(de=d(m).currentCompanyData)==null?void 0:de.office_contract)==null?void 0:ce.scr_designated_representative),1)])])])])]),e("div",Lt,[e("div",Rt,[At,e("div",Nt,[e("ul",Et,[e("li",Pt,[i(" Auditor: "),e("span",Mt,n((_e=(le=d(m).currentCompanyData)==null?void 0:le.compliance_reporting)==null?void 0:_e.auditor_name),1)]),e("li",Ut,[i(" Business Registration Renewal: "),e("span",Ht,n(d(p).dateDisplay((me=(pe=d(m).currentCompanyData)==null?void 0:pe.compliance_reporting)==null?void 0:me.business_registration_renewal_date)),1)]),e("li",Ft,[i(" Accounting Reference Date: "),e("span",Bt,n(_((ve=(ue=d(m).currentCompanyData)==null?void 0:ue.compliance_reporting)==null?void 0:ve.accounting_reference_date)),1)]),e("li",Gt,[i(" Annual Return Date: "),e("span",jt,n(d(p).dateDisplay((he=(ge=d(m).currentCompanyData)==null?void 0:ge.compliance_reporting)==null?void 0:he.annual_return_date)),1)])])])])])])}}}),zt=F(Vt,[["__scopeId","data-v-471b7c0c"]]),ye=u=>(B("data-v-44053a5b"),u=u(),G(),u),Kt={class:"col-12"},Yt={class:"card shadow-sm"},qt=ye(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Charges ",-1)),Jt={class:"card-body"},Wt={class:"fw-bold text-muted"},Xt={key:0,class:"my-3"},Zt=ye(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Qt=M({__name:"regOfChargeTable",setup(u){const y=H(),S=[{text:"Name of  Chargee",value:"names_of_charge"},{text:"Terms of  Charge",value:"terms_of_charge"},{text:"Charge Creation Date",value:"charge_creation_date"},{text:"Amount Secured by the Charge HKD",value:"account_secured_by_charge"},{text:"Type of Charge",value:"type_of_charge"},{text:"Description  of Charge",value:"charge_description"},{text:"Registration Details",value:"registration_details"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name of  Chargee",value:"names_of_charge"},{text:"Terms of  Charge",value:"terms_of_charge"},{text:"Charge Creation Date",value:"charge_creation_date"},{text:"Amount Secured by the Charge HKD",value:"account_secured_by_charge"},{text:"Type of Charge",value:"type_of_charge"},{text:"Description  of Charge",value:"charge_description"},{text:"Registration Details",value:"registration_details"},{text:"Date Modified",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=async(l,_)=>{c.data=[];const a=y.currentCompanyData.register_of_charge[l];c.id=a.id,a.logs||(a.expandLoading=!0,await x(),a.logs=a.data,a.expandLoading=!1)};async function x(){var a;const l=new FormData;l.append("charge_id",c.id),l.append("page",m.value.page);const t=((a=(await A.incoprationLogs(l)).data.data)==null?void 0:a.RegisterOfChargeLog)??null;h.value=(t==null?void 0:t.total)??0,c.data=(t==null?void 0:t.data)??[]}return P(m,l=>{x()},{deep:!0}),(l,_)=>{var a,s;const t=U("EasyDataTable");return g(),b("div",Kt,[e("div",Yt,[qt,e("div",Jt,[T(t,{class:"easy-data-table",headers:S,items:((s=(a=d(y))==null?void 0:a.currentCompanyData)==null?void 0:s.register_of_charge)??[],"buttons-pagination":"",onExpandRow:I},{header:r(o=>[e("span",Wt,n(o.text=="#"?"S/N":o.text),1)]),"item-charge_creation_date":r(o=>[i(n(d(p).dateDisplay(o.charge_creation_date)),1)]),"item-created_at":r(o=>[i(n(d(p).dateDisplay(o.created_at)),1)]),expand:r(o=>[o.expandLoading?j("",!0):(g(),b("div",Xt,[Zt,T(t,{class:"easy-data-table","show-index":"",headers:w,items:c.data,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":_[0]||(_[0]=f=>m.value=f),"server-items-length":h.value},{"item-charge_creation_date":r(f=>[i(n(d(p).dateDisplay(f.charge_creation_date)),1)]),"item-created_at":r(f=>[i(n(d(p).dateDisplay(f.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ea=F(Qt,[["__scopeId","data-v-44053a5b"]]),xe=u=>(B("data-v-57c30632"),u=u(),G(),u),ta={class:"col-12"},aa={class:"card shadow-sm"},sa=xe(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Directors ",-1)),oa={class:"card-body"},na={class:"fw-bold text-muted"},ra={key:0,class:"my-3"},ia=xe(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),da=M({__name:"regOfDirectorsTable",setup(u){const y=H(),S=[{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"reg_no"},{text:"Residential Address / Registered  Office",value:"registered_office"},{text:"Date of Appointment",value:"date_of_appointment"},{text:"Ceasing to Act",value:"ceasing_of_act"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"reg_no"},{text:"Residential Address / Registered  Office",value:"registered_office"},{text:"Date of Appointment",value:"date_of_appointment"},{text:"Ceasing to Act",value:"ceasing_of_act"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=async(l,_)=>{var s;c.data=[];const a=((s=y.currentCompanyData)==null?void 0:s.register_of_director)[l];c.id=a.id,a.logs||(a.expandLoading=!0,await x(),a.logs=a.data,a.expandLoading=!1)};async function x(){var a;const l=new FormData;l.append("director_id",c.id),l.append("page",m.value.page);const t=((a=(await A.incoprationLogs(l)).data.data)==null?void 0:a.RegisterOfDirectorLog)??null;h.value=(t==null?void 0:t.total)??0,c.data=(t==null?void 0:t.data)??[]}return P(m,l=>{x()},{deep:!0}),(l,_)=>{var a;const t=U("EasyDataTable");return g(),b("div",ta,[e("div",aa,[sa,e("div",oa,[T(t,{class:"easy-data-table",headers:S,items:((a=d(y).currentCompanyData)==null?void 0:a.register_of_director)??[],"buttons-pagination":"",onExpandRow:I},{header:r(s=>[e("span",na,n(s.text=="#"?"S/N":s.text),1)]),"item-date_of_appointment":r(s=>[i(n(d(p).dateDisplay(s.date_of_appointment)),1)]),"item-ceasing_of_act":r(s=>[i(n(d(p).dateDisplay(s.ceasing_of_act)),1)]),"item-created_at":r(s=>[i(n(d(p).dateDisplay(s.created_at)),1)]),expand:r(s=>[s.expandLoading?j("",!0):(g(),b("div",ra,[ia,T(t,{class:"easy-data-table",headers:w,items:c.data,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":_[0]||(_[0]=o=>m.value=o),"server-items-length":h.value},{"item-date_of_appointment":r(o=>[i(n(d(p).dateDisplay(o.date_of_appointment)),1)]),"item-ceasing_of_act":r(o=>[i(n(d(p).dateDisplay(o.ceasing_of_act)),1)]),"item-created_at":r(o=>[i(n(d(p).dateDisplay(o.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ca=F(da,[["__scopeId","data-v-57c30632"]]),De=u=>(B("data-v-8ae6394c"),u=u(),G(),u),la={class:"col-12"},_a={class:"card shadow-sm"},pa=De(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Shareholders ",-1)),ma={class:"card-body"},ua={class:"fw-bold text-muted"},va={key:0,class:"my-3"},ga=De(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),ha=M({__name:"regOfShareholdersTable",setup(u){const y=H(),S=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Denomination",value:"denomination"},{text:"Current Holding",value:"current_holding"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Date Entered As a Member",value:"date_entered_as_member"},{text:"Date Ceases to Be a Member",value:"date_cease_to_be_member"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Denomination",value:"denomination"},{text:"Current Holding",value:"current_holding"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Date Entered As a Member",value:"date_entered_as_member"},{text:"Date Ceases to Be a Member",value:"date_cease_to_be_member"},{text:"Date Modified",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=_=>c.id==_?c.data:[],x=async(_,t)=>{c.data=[];const s=y.currentCompanyData.register_of_shareholders[_];c.id=s.id,s.logs||(s.expandLoading=!0,await l(),s.logs=s.data,s.expandLoading=!1)};async function l(){var s;const _=new FormData;_.append("shareholder_id",c.id),_.append("page",m.value.page);const a=((s=(await A.incoprationLogs(_)).data.data)==null?void 0:s.RegisterOfShareholderLog)??null;h.value=(a==null?void 0:a.total)??0,c.data=(a==null?void 0:a.data)??[]}return P(m,_=>{l()},{deep:!0}),(_,t)=>{var s,o;const a=U("EasyDataTable");return g(),b("div",la,[e("div",_a,[pa,e("div",ma,[T(a,{class:"easy-data-table",headers:S,items:((o=(s=d(y))==null?void 0:s.currentCompanyData)==null?void 0:o.register_of_shareholders)??[],"buttons-pagination":"",onExpandRow:x},{header:r(f=>[e("span",ua,n(f.text=="#"?"S/N":f.text),1)]),"item-date_entered_as_member":r(f=>[i(n(d(p).dateDisplay(f.date_entered_as_member)),1)]),"item-date_cease_to_be_member":r(f=>[i(n(d(p).dateDisplay(f.date_cease_to_be_member)),1)]),"item-created_at":r(f=>[i(n(d(p).dateDisplay(f.created_at)),1)]),expand:r(f=>[f.expandLoading?j("",!0):(g(),b("div",va,[ga,T(a,{class:"easy-data-table","show-index":"",headers:w,items:I(f.id),"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":t[0]||(t[0]=C=>m.value=C),"server-items-length":h.value},{"item-date_entered_as_member":r(C=>[i(n(d(p).dateDisplay(C.date_entered_as_member)),1)]),"item-date_cease_to_be_member":r(C=>[i(n(d(p).dateDisplay(C.date_cease_to_be_member)),1)]),"item-current_holding":r(C=>[i(n(d(p).addCommas(C.current_holding)),1)]),"item-total_consideration":r(C=>[i(n(d(p).addCommas(C.total_consideration)),1)]),"item-created_at":r(C=>[i(n(d(p).dateDisplay(C.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ba=F(ha,[["__scopeId","data-v-8ae6394c"]]),se=u=>(B("data-v-6b720099"),u=u(),G(),u),fa={class:"col-12"},ya={class:"card shadow-sm"},xa=se(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Significant Controllers ",-1)),Da={class:"card-body"},wa={class:"fw-bold text-muted"},Ca={class:"card p-2 my-2 shadow-none"},$a={class:"list-group list-group-flush"},Ta={key:0,class:"my-3"},Sa=se(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Oa={class:"card-body"},Ia={class:"fw-bold text-muted"},ka={key:0,class:"my-3"},La=se(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Ra=M({__name:"sigControllerTable",setup(u){const y=H(),S=[{text:"Name of Registrable Person / Legal Entity",value:"legal_entity_name"},{text:"Address",value:"particulars"},{text:"Date of Entry",value:"entry_date"},{text:"Date  Becoming a Registrable Person",value:"date_becoming_rep_person"},{text:"Date Cease  to Be a Registrable Person",value:"date_ceased_to_be_rep_person"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name (Capacity)",value:"name"},{text:"Address",value:"particulars"},{text:" Date of Entry",value:"entry_date"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],m=[{text:"Name of Registrable Person / Legal Entity",value:"legal_entity_name"},{text:"Corresponding Address",value:"corresponding_address"},{text:"ID/Passport/Registration No",value:"identity_info"},{text:"Residential Address",value:"resdential_address"},{text:"Place of Registration.",value:"place_of_registration"},{text:"Nature of Control Over the Company",value:"nature_of_control_over_the_company"},{text:"Date of Entry",value:"entry_date"},{text:"Date  Becoming a Registrable Person",value:"date_becoming_rep_person"},{text:"Date Cease  to Be a Registrable Person",value:"date_ceased_to_be_rep_person"},{text:"Date MOdified",value:"created_at"}],h=[{text:"Name (Capacity)",value:"name"},{text:"ID/Passport/Registration No.",value:"identity_info"},{text:" Date of Entry",value:"entry_date"},{text:"Place of Registration",value:"place_of_registration"},{text:"Nature of Control Over the Company",value:"nature_of_control_over_the_company"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],c=D({page:1,rowsPerPage:15}),I=D({page:1,rowsPerPage:15}),x=D(0),l=z({id:"",data:[]}),_=D(0),t=z({id:"",data:[]}),a=async(C,N)=>{l.data=[];const L=y.currentCompanyData.significant_controller[C];l.id=L.id,L.logs||(L.expandLoading=!0,await o(),L.logs=L.data,L.expandLoading=!1)},s=async(C,N)=>{t.data=[];const L=y.currentCompanyData.designated_representative[C];l.id=L.id,L.logs||(L.expandLoading=!0,await o(),L.logs=L.data,L.expandLoading=!1)};async function o(){var L;const C=new FormData;C.append("controller_id",l.id),C.append("page",c.value.page);const k=((L=(await A.incoprationLogs(C)).data.data)==null?void 0:L.SignificantControllerLog)??null;x.value=(k==null?void 0:k.total)??0,l.data=(k==null?void 0:k.data)??[]}async function f(){var L;const C=new FormData;C.append("representative_id",t.id),C.append("page",I.value.page);const k=((L=(await A.incoprationLogs(C)).data.data)==null?void 0:L.DesignatedRepresentativeLog)??null;_.value=(k==null?void 0:k.total)??0,t.data=(k==null?void 0:k.data)??[]}return P(c,C=>{o()},{deep:!0}),P(I,C=>{f()},{deep:!0}),(C,N)=>{var L,V,K;const k=U("EasyDataTable");return g(),b("div",fa,[e("div",ya,[xa,e("div",Da,[i(" Significant Controllers "),T(k,{class:"easy-data-table",headers:S,items:((V=(L=d(y))==null?void 0:L.currentCompanyData)==null?void 0:V.significant_controller)??[],"buttons-pagination":"",onExpandRow:a},{header:r($=>[e("span",wa,n($.text=="#"?"S/N":$.text),1)]),"item-particulars":r($=>{var v;return[e("div",Ca,[e("ul",$a,[e("span",null,n(((v=$==null?void 0:$.controllers_particulars)==null?void 0:v.corresponding_address)??"-"),1)])])]}),"item-entry_date":r($=>[i(n(d(p).dateDisplay($.entry_date)),1)]),"item-date_becoming_rep_person":r($=>[i(n(d(p).dateDisplay($.date_becoming_rep_person)),1)]),"item-date_ceased_to_be_rep_person":r($=>[i(n(d(p).dateDisplay($.date_ceased_to_be_rep_person)),1)]),"item-created_at":r($=>[i(n(d(p).dateDisplay($.created_at)),1)]),expand:r($=>[$.expandLoading?j("",!0):(g(),b("div",Ta,[Sa,T(k,{class:"easy-data-table","show-index":"",headers:m,items:l.data,"buttons-pagination":"","server-options":c.value,"onUpdate:serverOptions":N[0]||(N[0]=v=>c.value=v),"server-items-length":x.value},{"item-charge_creation_date":r(v=>[i(n(d(p).dateDisplay(v.charge_creation_date)),1)]),"item-entry_date":r(v=>[i(n(d(p).dateDisplay(v.entry_date)),1)]),"item-date_becoming_rep_person":r(v=>[i(n(d(p).dateDisplay(v.date_becoming_rep_person)),1)]),"item-date_ceased_to_be_rep_person":r(v=>[i(n(d(p).dateDisplay(v.date_ceased_to_be_rep_person)),1)]),"item-created_at":r(v=>[i(n(d(p).dateDisplay(v.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])]),e("div",Oa,[i(" Designated Representative "),T(k,{class:"easy-data-table",headers:w,items:((K=d(y).currentCompanyData)==null?void 0:K.designated_representative)??[],"buttons-pagination":"",onExpandRow:s},{header:r($=>[e("span",Ia,n($.text=="#"?"S/N":$.text),1)]),"item-particulars":r($=>[i(n(($==null?void 0:$.corresponding_address)??"-"),1)]),"item-entry_date":r($=>[i(n(d(p).dateDisplay($.entry_date)),1)]),"item-created_at":r($=>[i(n(d(p).dateDisplay($.created_at)),1)]),expand:r($=>[$.expandLoading?j("",!0):(g(),b("div",ka,[La,T(k,{class:"easy-data-table","show-index":"",headers:h,items:t.data,"buttons-pagination":"","server-options":I.value,"onUpdate:serverOptions":N[1]||(N[1]=v=>I.value=v),"server-items-length":x.value},{"item-entry_date":r(v=>[i(n(d(p).dateDisplay(v.entry_date)),1)]),"item-created_at":r(v=>[i(n(d(p).dateDisplay(v.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Aa=F(Ra,[["__scopeId","data-v-6b720099"]]),we=u=>(B("data-v-d1b87e0b"),u=u(),G(),u),Na={class:"col-12"},Ea={class:"card shadow-sm"},Pa=we(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Company Name Changes ",-1)),Ma={class:"card-body"},Ua={class:"fw-bold text-muted"},Ha={key:0,class:"my-3"},Fa=we(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Ba=M({__name:"regOfNameChangeTable",setup(u){const y=H(),S=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Date of Allotment",value:"allotment_date"},{text:"DATE CREATED",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Date of Allotment",value:"allotment_date"},{text:"DATE MODIFIED",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=async(l,_)=>{c.data=[];const a=y.currentCompanyData.register_of_company_name[l];c.id=a.id,a.logs||(a.expandLoading=!0,await x(),a.logs=a.data,a.expandLoading=!1)};async function x(){var a;const l=new FormData;l.append("company_name_id",c.id),l.append("page",m.value.page);const t=((a=(await A.incoprationLogs(l)).data.data)==null?void 0:a.RegisterOfCompanyNameLog)??null;h.value=(t==null?void 0:t.total)??0,c.data=(t==null?void 0:t.data)??[]}return P(m,l=>{x()},{deep:!0}),(l,_)=>{var a,s;const t=U("EasyDataTable");return g(),b("div",Na,[e("div",Ea,[Pa,e("div",Ma,[T(t,{class:"easy-data-table",headers:S,items:((s=(a=d(y))==null?void 0:a.currentCompanyData)==null?void 0:s.register_of_company_name)??[],"buttons-pagination":"",onExpandRow:I},{header:r(o=>[e("span",Ua,n(o.text=="#"?"S/N":o.text),1)]),"item-allotment_date":r(o=>[i(n(d(p).dateDisplay(o.allotment_date)),1)]),"item-created_at":r(o=>[i(n(d(p).dateDisplay(o.created_at)),1)]),"item-no_of_shares_allocated":r(o=>[i(n(d(p).addCommas(o.no_of_shares_allocated)),1)]),"item-total_consideration":r(o=>[i(n(d(p).addCommas(o.total_consideration)),1)]),expand:r(o=>[o.expandLoading?j("",!0):(g(),b("div",Ha,[Fa,T(t,{class:"easy-data-table","show-index":"",headers:w,items:c.data,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":_[0]||(_[0]=f=>m.value=f),"server-items-length":h.value},{"item-allotment_date":r(f=>[i(n(d(p).dateDisplay(f.allotment_date)),1)]),"item-created_at":r(f=>[i(n(d(p).dateDisplay(f.created_at)),1)]),"item-no_of_shares_allocated":r(f=>[i(n(d(p).addCommas(f.no_of_shares_allocated)),1)]),"item-total_consideration":r(f=>[i(n(d(p).addCommas(f.total_consideration)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Ga=F(Ba,[["__scopeId","data-v-d1b87e0b"]]),Ce=u=>(B("data-v-1b66454a"),u=u(),G(),u),ja={class:"col-12"},Va={class:"card shadow-sm"},za=Ce(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Secretaries ",-1)),Ka={class:"card-body"},Ya={class:"fw-bold text-muted"},qa={key:0,class:"my-3"},Ja=Ce(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Wa=M({__name:"regOfSecretaryTable",setup(u){const y=H(),S=[{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"identity_info"},{text:"Residential Address / Registered  Office",value:"address"},{text:"Date of Appointment ",value:"appointment_date"},{text:"Ceasing to Act",value:"cease_to_act"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"identity_info"},{text:"Date of Appointment",value:"appointment_date"},{text:"Residential Address / Registered  Office",value:"address"},{text:"Ceasing to Act",value:"cease_to_act"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=async(l,_)=>{c.data=[];const a=y.currentCompanyData.register_of_secretary[l];c.id=a.id,a.logs||(a.expandLoading=!0,await x(),a.logs=a.data,a.expandLoading=!1)};async function x(){var a;const l=new FormData;l.append("secretary_id",c.id),l.append("page",m.value.page);const _=await A.incoprationLogs(l);console.log(_);const t=((a=_.data.data)==null?void 0:a.RegisterOfSecretaryLog)??null;h.value=(t==null?void 0:t.total)??0,c.data=(t==null?void 0:t.data)??[]}return P(m,l=>{x()},{deep:!0}),(l,_)=>{var a;const t=U("EasyDataTable");return g(),b("div",ja,[e("div",Va,[za,e("div",Ka,[T(t,{class:"easy-data-table",headers:S,items:((a=d(y).currentCompanyData)==null?void 0:a.register_of_secretary)??[],"buttons-pagination":"",onExpandRow:I},{header:r(s=>[e("span",Ya,n(s.text=="#"?"S/N":s.text),1)]),"item-cease_to_act":r(s=>[i(n(d(p).dateDisplay(s.cease_to_act)),1)]),"item-appointment_date":r(s=>[i(n(d(p).dateDisplay(s.appointment_date)),1)]),"item-created_at":r(s=>[i(n(d(p).dateDisplay(s.created_at)),1)]),expand:r(s=>[s.expandLoading?j("",!0):(g(),b("div",qa,[Ja,T(t,{class:"easy-data-table","show-index":"",headers:w,items:c.data,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":_[0]||(_[0]=o=>m.value=o),"server-items-length":h.value},{"item-cease_to_act":r(o=>[i(n(d(p).dateDisplay(o.cease_to_act)),1)]),"item-appointment_date":r(o=>[i(n(d(p).dateDisplay(o.appointment_date)),1)]),"item-created_at":r(o=>[i(n(d(p).dateDisplay(o.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Xa=F(Wa,[["__scopeId","data-v-1b66454a"]]),$e=u=>(B("data-v-67d89a60"),u=u(),G(),u),Za={class:"col-12"},Qa={class:"card shadow-sm"},es=$e(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Allotments ",-1)),ts={class:"card-body"},as={class:"fw-bold text-muted"},ss={key:0,class:"my-3"},os=$e(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),ns=M({__name:"regOfAllotmentsTable",setup(u){const y=H(),S=[{text:"Name and Address",value:"address"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Date of Allotment ",value:"allotment_date"},{text:"Denomination",value:"denomination"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Name and Address",value:"address"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Date of Allotment ",value:"allotment_date"},{text:"Denomination",value:"denomination"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=async(l,_)=>{c.data=[];const a=y.currentCompanyData.register_of_allotments[l];c.id=a.id,a.logs||(a.expandLoading=!0,await x(),a.logs=a.data,a.expandLoading=!1)};async function x(){var a;const l=new FormData;l.append("allotment_id",c.id),l.append("page",m.value.page);const _=await A.incoprationLogs(l);console.log(_,"expandedItem");const t=((a=_.data.data)==null?void 0:a.RegisterOfAllotmentLog)??null;h.value=(t==null?void 0:t.total)??0,c.data=(t==null?void 0:t.data)??[]}return P(m,l=>{x()},{deep:!0}),(l,_)=>{var a;const t=U("EasyDataTable");return g(),b("div",Za,[e("div",Qa,[es,e("div",ts,[T(t,{class:"easy-data-table",headers:S,items:((a=d(y).currentCompanyData)==null?void 0:a.register_of_allotments)??[],"buttons-pagination":"",onExpandRow:I},{header:r(s=>[e("span",as,n(s.text=="#"?"S/N":s.text),1)]),"item-cease_to_act":r(s=>[i(n(d(p).dateDisplay(s.cease_to_act)),1)]),"item-appointment_date":r(s=>[i(n(d(p).dateDisplay(s.appointment_date)),1)]),"item-created_at":r(s=>[i(n(d(p).dateDisplay(s.created_at)),1)]),"item-no_of_shares_allocated":r(s=>[i(n(d(p).addCommas(s.no_of_shares_allocated)),1)]),"item-total_consideration":r(s=>[i(n(d(p).addCommas(s.total_consideration)),1)]),expand:r(s=>[s.expandLoading?j("",!0):(g(),b("div",ss,[os,T(t,{class:"easy-data-table","show-index":"",headers:w,items:c.data,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":_[0]||(_[0]=o=>m.value=o),"server-items-length":h.value},{"item-cease_to_act":r(o=>[i(n(d(p).dateDisplay(o.cease_to_act)),1)]),"item-appointment_date":r(o=>[i(n(d(p).dateDisplay(o.appointment_date)),1)]),"item-created_at":r(o=>[i(n(d(p).dateDisplay(o.created_at)),1)]),"item-no_of_shares_allocated":r(o=>[i(n(d(p).addCommas(o.no_of_shares_allocated)),1)]),"item-total_consideration":r(o=>[i(n(d(p).addCommas(o.total_consideration)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),rs=F(ns,[["__scopeId","data-v-67d89a60"]]),Te=u=>(B("data-v-adf85a19"),u=u(),G(),u),is={class:"col-12"},ds={class:"card shadow-sm"},cs=Te(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Transfers ",-1)),ls={class:"card-body"},_s={class:"fw-bold text-muted"},ps={key:0,class:"my-3"},ms=Te(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),us=M({__name:"regOfTransferTable",setup(u){const y=H(),S=[{text:"Transferor",value:"transferor"},{text:"Transferee",value:"transferee"},{text:"Number of Shares  Transferred",value:"no_of_shares_transfered"},{text:"Total  Consideration HKD",value:"total_consideration"},{text:"Transferred/Disposal  Method",value:"transfer_method"},{text:"Date of Registration",value:"registration_date"},{text:"Date Created",value:"created_at"},{text:"ACTION",value:"action"}],w=[{text:"Transferor",value:"transferor"},{text:"Transferee",value:"transferee"},{text:"Number of Shares  Transferred",value:"no_of_shares_transfered"},{text:"Total  Consideration HKD",value:"total_consideration"},{text:"Date of Registration",value:"registration_date"},{text:"Transferred/Disposal  Method",value:"transfer_method"},{text:"Date Modified",value:"created_at"}],m=D({page:1,rowsPerPage:15}),h=D(0),c=z({id:"",data:[]}),I=async(l,_)=>{c.data=[];const a=y.currentCompanyData.register_of_transfer[l];c.id=a.id,a.logs||(a.expandLoading=!0,await x(),a.logs=a.data,a.expandLoading=!1)};async function x(){var a;const l=new FormData;l.append("transfer_id",c.id),l.append("page",m.value.page);const _=await A.incoprationLogs(l);console.log(_,"expandedItem");const t=((a=_.data.data)==null?void 0:a.RegisterOfTransferLog)??null;h.value=(t==null?void 0:t.total)??0,c.data=(t==null?void 0:t.data)??[]}return P(m,l=>{x()},{deep:!0}),(l,_)=>{var a,s;const t=U("EasyDataTable");return g(),b("div",is,[e("div",ds,[cs,e("div",ls,[T(t,{class:"easy-data-table",headers:S,items:((s=(a=d(y))==null?void 0:a.currentCompanyData)==null?void 0:s.register_of_transfer)??[],"buttons-pagination":"",onExpandRow:I},{header:r(o=>[e("span",_s,n(o.text=="#"?"S/N":o.text),1)]),"item-cease_to_act":r(o=>[i(n(d(p).dateDisplay(o.cease_to_act)),1)]),"item-appointment_date":r(o=>[i(n(d(p).dateDisplay(o.appointment_date)),1)]),"item-created_at":r(o=>[i(n(d(p).dateDisplay(o.created_at)),1)]),"item-no_of_shares_transfered":r(o=>[i(n(d(p).addCommas(o.no_of_shares_transfered)),1)]),"item-total_consideration":r(o=>[i(n(d(p).addCommas(o.total_consideration)),1)]),expand:r(o=>[o.expandLoading?j("",!0):(g(),b("div",ps,[ms,T(t,{class:"easy-data-table","show-index":"",headers:w,items:c.data,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":_[0]||(_[0]=f=>m.value=f),"server-items-length":h.value},{"item-cease_to_act":r(f=>[i(n(d(p).dateDisplay(f.cease_to_act)),1)]),"item-appointment_date":r(f=>[i(n(d(p).dateDisplay(f.appointment_date)),1)]),"item-created_at":r(f=>[i(n(d(p).dateDisplay(f.created_at)),1)]),"item-no_of_shares_transfered":r(f=>[i(n(d(p).addCommas(f.no_of_shares_transfered)),1)]),"item-total_consideration":r(f=>[i(n(d(p).addCommas(f.total_consideration)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),vs=F(us,[["__scopeId","data-v-adf85a19"]]),gs={class:"row g-3"},hs=M({__name:"companyRegisters",setup(u){return(y,S)=>(g(),b("div",gs,[T(ca),T(ba),T(Xa),T(rs),T(vs),T(Ga),T(ea),T(Aa)]))}}),bs=F(hs,[["__scopeId","data-v-a334a747"]]),oe=u=>(B("data-v-692e211d"),u=u(),G(),u),fs={class:"row g-3"},ys={class:"col-12"},xs={class:"card shadow-sm"},Ds=oe(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"},null,-1)),ws={class:"card-body"},Cs={class:"fw-bold text-muted"},$s={class:"list-group list-group-flush"},Ts=["href"],Ss={class:"dropdown"},Os={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Is=oe(()=>e("i",{class:"bi bi-three-dots text-primary"},null,-1)),ks={class:"dropdown-menu dropdown-menu-start"},Ls={class:"list-group list-group-flush"},Rs=["onClick"],As=oe(()=>e("i",{class:"bi bi-trash3"},null,-1)),Ns=M({__name:"documents",setup(u){const y=H();ee(()=>{S()});async function S(){try{const _=(await A.getDocuments(y.currentCompanyId)).data.data;m.value=_.total,h.value=_.data,c.value=!1,console.log(_)}catch{}}const w=D({page:1,rowsPerPage:15}),m=D(0),h=D([]),c=D(!0);P(w,l=>{S()},{deep:!0});const I=[{text:"DOCUMENT TITLE",value:"title"},{text:"DOCUMENT",value:"document"},{text:"DOCUMENT TYPE",value:"type"},{text:"YEAR",value:"year"},{text:"DATE ADDED",value:"created_at"},{text:"ACTION",value:"action"}];async function x(l){p.confirmDelete("Delete this document?","Yes, delete").then(async _=>{_.isConfirmed&&(await A.deleteCompanyDocument(l),p.toast("Document deleted","success"),S())})}return(l,_)=>{const t=U("isLoadingComponent"),a=U("EasyDataTable");return g(),b("div",fs,[e("div",ys,[e("div",xs,[Ds,e("div",ws,[c.value?(g(),ae(t,{key:0})):(g(),ae(a,{key:1,class:"easy-data-table",headers:I,items:h.value,"buttons-pagination":"","server-options":w.value,"onUpdate:serverOptions":_[0]||(_[0]=s=>w.value=s),"server-items-length":m.value},{header:r(s=>[e("span",Cs,n(s.text=="#"?"S/N":s.text),1)]),"item-updated_at":r(s=>[i(n(d(p).dateDisplay(s.updated_at)),1)]),"item-created_at":r(s=>[i(n(d(p).dateDisplay(s.created_at)),1)]),"item-document":r(s=>[e("ul",$s,[(g(!0),b(Z,null,Q(JSON.parse(s.document),(o,f)=>(g(),b("li",{key:o,class:"list-group-item p-0 border-0"},[e("a",{href:o,target:"_blank;",style:{"text-decoration":"none"}}," Preview file",8,Ts)]))),128))])]),"item-action":r(s=>[e("span",Ss,[e("span",Os,[Is,e("div",ks,[e("ul",Ls,[e("li",{onClick:o=>x(s.id),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[As,i(" Delete ")],8,Rs)])])])])]),_:1},8,["items","server-options","server-items-length"]))])])])])}}}),Es=F(Ns,[["__scopeId","data-v-692e211d"]]),Se=u=>(B("data-v-5f6b519c"),u=u(),G(),u),Ps={class:"row g-3"},Ms={class:"col-12"},Us={class:"card shadow-sm"},Hs={class:"card-body"},Fs={class:"fw-bold text-muted"},Bs={key:0,class:"alert alert-warning py-1 border-0 text-nowrap"},Gs={key:1,class:"alert alert-success py-1 border-0"},js={key:0,class:"alert alert-warning py-1 border-0 text-nowrap"},Vs={key:1,class:"alert alert-success py-1 border-0"},zs=["onClick"],Ks=Se(()=>e("i",{class:"bi bi-arrow-clockwise"},null,-1)),Ys={key:1,disabled:"",class:"btn btn-primary btn-sm text-nowrap"},qs=Se(()=>e("i",{class:"bi bi-arrow-clockwise"},null,-1)),Js=M({__name:"founders",setup(u){const y=H(),S=D(0),w=D([]),m=D({page:1,rowsPerPage:15});ee(()=>{h()});async function h(){try{const x=new URLSearchParams(m.value).toString(),_=(await A.userCompanyFounders(y.currentCompanyId,x)).data.data;S.value=_.total;const t=_.data,a=[];t.length&&t.forEach(s=>{var N,k,L,V;const o=s.individual||s.corporate,f=JSON.parse(s.entity_capacity_id),C=f.includes("1")?f.includes("2")?"Shareholder & Director":"Shareholder":"Director";o&&(o.name=s.entity_type_id==1?`${o.first_name} ${o.last_name} ${o.chn_last_name??""} ${o.chn_first_name??""}`:`${o.company_name} ${o==null?void 0:o.chn_company_name}`,o.copOrInd=s.entity_type_id==1?"Individual":"Corporate",o.shareOrDir=C,o.email=s.entity_type_id==1?o.email:(N=s==null?void 0:s.corporate)==null?void 0:N.authorized_persons.email,o.phone=s.entity_type_id==1?o.phone:(k=s==null?void 0:s.corporate)==null?void 0:k.authorized_persons.phone,o.authorizedPersonName=s.entity_type_id==1?"":((L=s==null?void 0:s.corporate)==null?void 0:L.authorized_persons.first_name)+" "+((V=s==null?void 0:s.corporate)==null?void 0:V.authorized_persons.last_name),o.kyc_status=s.kyc_status,o.signature=s.signature,a.push(o))}),w.value=a}catch{}}P(m,x=>{h()},{deep:!0});const c=[{text:"NAME",value:"name"},{text:"AUTHORIZED PERSON'S NAME",value:"authorizedPersonName"},{text:"TYPE",value:"copOrInd"},{text:"CAPACITY",value:"shareOrDir"},{text:"EMAIL",value:"email"},{text:"PHONE",value:"phone"},{text:"KYC STATUS",value:"kyc_status"},{text:"SIGNATURE",value:"signature"},{text:"ACTION",value:"action"}];D(!1);async function I(x){const l=w.value.find(_=>_.company_entity_id==x);l.isSendingEmail=!0;try{const _=new FormData;_.append("company_id",y.currentCompanyId),_.append("company_entity_id",x),(await A.userResendEmail(_)).status==200?(p.toast("Email Sent","success"),l.isSendingEmail=null):(p.toast("Email not sent, something went wrong","error"),l.isSendingEmail=null)}catch{p.toast("Network error, something went wrong","error"),l.isSendingEmail=null}}return(x,l)=>{const _=U("EasyDataTable");return g(),b("div",Ps,[e("div",Ms,[e("div",Us,[e("div",Hs,[T(_,{class:"easy-data-table",headers:c,items:w.value,"buttons-pagination":"","server-options":m.value,"onUpdate:serverOptions":l[0]||(l[0]=t=>m.value=t),"server-items-length":S.value},{header:r(t=>[e("span",Fs,n(t.text=="#"?"S/N":t.text),1)]),"item-kyc_status":r(t=>[t.kyc_status?(g(),b("span",Gs,"Verified")):(g(),b("span",Bs,"Not Verified"))]),"item-signature":r(t=>[t.signature?(g(),b("span",Vs,"Signed")):(g(),b("span",js,"Not Signed"))]),"item-action":r(t=>[t.isSendingEmail?(g(),b("button",Ys,[qs,i(" Sending .. ")])):(g(),b("button",{key:0,onClick:a=>I(t.company_entity_id),class:"btn btn-primary btn-sm text-nowrap"},[Ks,i(" Resend Email ")],8,zs))]),_:1},8,["items","server-options","server-items-length"])])])])])}}}),Ws=F(Js,[["__scopeId","data-v-5f6b519c"]]),Y=u=>(B("data-v-cf0211b4"),u=u(),G(),u),Xs={class:"row g-3"},Zs={class:"col-12"},Qs={class:"card shadow-s"},eo={class:"card-body"},to={class:"row g-3 mb-4"},ao={class:"col-lg-6"},so={class:"card h-100"},oo=Y(()=>e("div",{class:"card-header border-0 bg-transparent"},"Team Invitation",-1)),no={class:"card-body"},ro={class:"list-group list-group-flush mt-3"},io={class:"list-group-item px-0"},co={class:"row justify-content-between align-items-center"},lo=["onClick"],_o={key:0,class:"me-3 bi bi-check-circle-fill"},po={key:1,class:"me-3 bi bi-circle"},mo={class:"col-lg-6"},uo={class:"row g-3"},vo={class:"col-12"},go=Y(()=>e("option",{value:"",selected:"",disabled:""},"Select Role",-1)),ho=["value"],bo={key:0,class:"col-12"},fo={class:"card h-100 exemptio border-0 bg-light-subtle text-capitalize"},yo={class:"card-header border-0"},xo={class:"float-end"},Do=Y(()=>e("i",{class:"bi bi-send"},null,-1)),wo={key:1,class:"btn btn-secondary btn-sm",type:"button",disabled:""},Co=Y(()=>e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1)),$o={class:"card-body",style:{height:"280px","overflow-y":"scroll"}},To={class:"list-group list-group-flush small"},So={class:"list-group-item ps-0"},Oo=Y(()=>e("div",{class:"div fw-bold mb-3"},"Team Members:",-1)),Io={class:"fw-bold text-muted"},ko={key:0},Lo=Y(()=>e("span",{class:"badge bg-success"},"Active",-1)),Ro=[Lo],Ao={key:1},No=Y(()=>e("span",{class:"badge bg-danger"},"Blocked ",-1)),Eo=[No],Po={class:"dropdown"},Mo={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Uo=Y(()=>e("i",{class:"bi bi-three-dots text-primary"},null,-1)),Ho={class:"dropdown-menu dropdown-menu-start"},Fo={class:"list-group list-group-flush"},Bo=["onClick"],Go=Y(()=>e("i",{class:"bi bi-exclamation-circle-fill"},null,-1)),jo=M({__name:"teams",setup(u){const y=H(),S=fe.useToast();ee(()=>{o(),f(),C()}),D("");const w=D(""),m=D([]),h=D([]),c=D(""),I=te(()=>[]),x=D(null),l=v=>{x.value=v,h.value.forEach(R=>{R.isSelected=!1}),v.isSelected=!0};async function _(v){const R=new FormData,E=m.value.teams.id;R.append("team_id",E),R.append("user_id",v);const O=await A.removeUserfromTeam(R);k.value=O.data.data,C(),console.log(k)}const t=te(()=>{let v=null;return w.value&&(v=m.value.roles.find(R=>R.name.toLowerCase()===w.value.toLowerCase())),v}),a=D(!1);async function s(){!x.value&&!p.isEmail(c.value)&&S.info("Select a user or enter a valid email address",{position:"top-right"}),a.value=!0;try{const v=new FormData,R=m.value.teams.id;v.append("company_id",y.currentCompanyId),v.append("team_id",R),v.append("role",w.value),x.value?(v.append("user_id",x.value.id),v.append("email",x.value.email)):(v.append("user_id",""),v.append("email",c.value));const E=await A.userTeamsInvitation(v);console.log(E),E.status==200?(S.info("Invitation Sent Sucessfully",{position:"top-right"}),c.value="",a.value=!1):E.status==203&&(S.info("User already exist in the team",{position:"top-right"}),a.value=!1)}catch{a.value=!1,S.error("Something went Wrong",{position:"top-right"})}}async function o(){try{const v=await A.userGetCompany(y.currentCompanyId);m.value=v.data.data}catch{}}async function f(){var v,R,E;try{const O=await A.getUsers("?page=1");h.value=((E=(R=(v=O.data)==null?void 0:v.data)==null?void 0:R.users)==null?void 0:E.data)??[]}catch{}}async function C(){try{const v=new FormData;v.append("company_id",y.currentCompanyId),v.append("team_id","23");const E=(await A.userTeamMembers(v)).data.data;L.value=E.total,k.value=E,V.value=!1}catch{}}const N=D(0),k=D([]),L=D(0),V=D(!0),K=D({page:1,rowsPerPage:15});P(K,v=>{C()},{deep:!0});const $=[{text:"NAME",value:"users.name"},{text:"EMAIL",value:"user.email"},{text:"STATUS",value:"action_status"},{text:"ROLE",value:"role"},{text:"DATE ADDED",value:"created_at"},{text:"ACTION",value:"action"}];return(v,R)=>{const E=U("EasyDataTable");return g(),b("div",Xs,[e("div",Zs,[e("div",Qs,[e("div",eo,[e("div",to,[e("div",ao,[e("div",so,[oo,e("div",no,[be(e("input",{"onUpdate:modelValue":R[0]||(R[0]=O=>c.value=O),type:"text",class:"form-control",placeholder:"search by name or email"},null,512),[[ke,c.value]]),e("ul",ro,[(g(!0),b(Z,null,Q(I.value,O=>(g(),b("li",io,[e("div",co,[e("div",{onClick:J=>l(O),class:"col-lg-12 text-info-emphasis fw-bold small cursor-pointer"},[O.isSelected?(g(),b("i",_o)):(g(),b("i",po)),i(" "+n(O.name)+" ("+n(O.email)+") ",1)],8,lo)])]))),256))])])])]),e("div",mo,[e("div",uo,[e("div",vo,[be(e("select",{"onUpdate:modelValue":R[1]||(R[1]=O=>w.value=O),class:"form-select form-select-sm text-capitalize"},[go,(g(!0),b(Z,null,Q(m.value.roles,O=>(g(),b("option",{value:O.name},n(O.name),9,ho))),256))],512),[[Le,w.value]])]),t.value?(g(),b("div",bo,[e("div",fo,[e("div",yo,[i(n(t.value.description)+" ",1),e("div",xo,[a.value?(g(),b("button",wo,[Co,i(" Sending ")])):(g(),b("button",{key:0,onClick:s,class:"btn btn-sm btn-secondary"},[i(" Invite User "),Do]))])]),e("div",$o,[e("ul",To,[(g(!0),b(Z,null,Q(t.value.permission,O=>(g(),b("li",So,[e("strong",null,n(O.name),1),e("div",null,n(O.description),1)]))),256))])])])])):j("",!0)])])]),Oo,T(E,{class:"easy-data-table",headers:$,items:k.value,"buttons-pagination":"","server-options":K.value,"onUpdate:serverOptions":R[2]||(R[2]=O=>K.value=O),"server-items-length":N.value},{header:r(O=>[e("span",Io,n(O.text),1)]),"item-created_at":r(O=>[i(n(d(p).dateDisplay(O.created_at,"m,y,t")),1)]),"item-action_status":r(O=>{var J;return[((J=O.users)==null?void 0:J.status)==1?(g(),b("span",ko,Ro)):(g(),b("span",Ao,Eo))]}),"item-action":r(O=>[e("span",Po,[e("span",Mo,[Uo,e("div",Ho,[e("ul",Fo,[e("li",{onClick:J=>_(O.user_id),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[Go,i(" Remove from Team ")],8,Bo)])])])])]),_:1},8,["items","server-options","server-items-length"])])])])])}}}),Vo=F(jo,[["__scopeId","data-v-cf0211b4"]]),zo={key:0},Ko={key:1,class:"p-3"},Yo={class:"card-body"},qo=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link active",id:"tab1-tab","data-bs-toggle":"tab","data-bs-target":"#tab1",type:"button",role:"tab","aria-controls":"tab1","aria-selected":"true"}," Company details ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab2-tab","data-bs-toggle":"tab","data-bs-target":"#tab2",type:"button",role:"tab","aria-controls":"tab2","aria-selected":"false"}," Company Registers ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab4-tab","data-bs-toggle":"tab","data-bs-target":"#tab4",type:"button",role:"tab","aria-controls":"tab4","aria-selected":"false"}," Documents ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab5-tab","data-bs-toggle":"tab","data-bs-target":"#tab5",type:"button",role:"tab","aria-controls":"tab5","aria-selected":"false"}," Team Members ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab6-tab","data-bs-toggle":"tab","data-bs-target":"#tab6",type:"button",role:"tab","aria-controls":"tab6","aria-selected":"false"}," Verifications ")])],-1),Jo={key:1,class:"tab-content py-4"},Wo={class:"tab-pane active",id:"tab1",role:"tabpanel","aria-labelledby":"tab1-tab"},Xo={class:"tab-pane",id:"tab2",role:"tabpanel","aria-labelledby":"tab2-tab"},Zo={class:"tab-pane",id:"tab4",role:"tabpanel","aria-labelledby":"tab4-tab"},Qo={class:"tab-pane",id:"tab5",role:"tabpanel","aria-labelledby":"tab5-tab"},en={class:"tab-pane",id:"tab6",role:"tabpanel","aria-labelledby":"tab6-tab"},cn=M({__name:"Company",setup(u){const y=H(),S=Re(),w=fe.useToast(),m=D(!0),h=D(!0);ee(()=>{c()});function c(){S.query.invite?x():I()}P(()=>y.currentCompanyId,()=>{I()});async function I(){h.value=!1,await y.getCompanyDetails(),m.value=!1}async function x(){const l=S.query.invite;try{const _=new FormData;_.append("token",l);const t=await A.userTeamsInvitationAccept(_);console.log(t),t.status==200?(w.info("Invitation Accepted, you have been added to this team",{position:"top-right"}),y.currentCompanyId=t.data.data.companyId,I()):t.status==203&&w.info("This Token is invalid",{position:"top-right"})}catch(_){console.log(_),w.error("Something went Wrong",{position:"top-right"})}}return(l,_)=>{const t=U("isLoadingComponent");return h.value?(g(),b("div",zo,[T(Ae)])):(g(),b("div",Ko,[e("div",Yo,[qo,m.value?(g(),ae(t,{key:0})):(g(),b("div",Jo,[e("div",Wo,[T(zt)]),e("div",Xo,[T(bs)]),e("div",Zo,[T(Es)]),e("div",Qo,[T(Vo)]),e("div",en,[T(Ws)])]))])]))}}});export{cn as default};
