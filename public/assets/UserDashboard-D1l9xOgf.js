import{a as h}from"./index-tRxWvqvq.js";import{u as V}from"./paramsStore-B2H3kSvj.js";import{d as q,u as F,r as i,p as S,k as z,z as A,l as G,o,c as n,b as e,f,t as d,B as I,q as R,s as b,e as T,j as H,A as g,C as Y,D as J,_ as K}from"./index-BB7HlvlK.js";import{u as L}from"./useFunctions-D6JrfueW.js";const l=v=>(Y("data-v-e0ecfdb9"),v=v(),J(),v),Q={class:"container"},W={class:"row g-3"},X=H('<div class="col-lg-12" data-v-e0ecfdb9><div class="card border-0 shadow-sm h-100" data-v-e0ecfdb9><div class="card-body" data-v-e0ecfdb9><div class="row g-3" data-v-e0ecfdb9><div class="col-md-9" data-v-e0ecfdb9><h5 class="fw-bold page-title mb-2" data-v-e0ecfdb9>Dashboard Overview</h5><div class="" data-v-e0ecfdb9>Have a Glance of this company Information.</div><p data-v-e0ecfdb9><p data-v-e0ecfdb9>Manage your company in a single clicks, click on the navigation to view individual company details</p></p></div></div></div></div></div>',1),Z={class:"col-lg-4"},$={class:"card border-0 shadow-sm h-100"},ee={class:"card-body"},te={class:"d-flex justify-content-between align-items-cente"},se={class:"col-8"},ae={class:"fs-4 fw-bold text-mute"},oe=l(()=>e("span",{class:"small"},null,-1)),ne=l(()=>e("div",{class:"col-4"},[e("div",{class:"round bg-success-subtle"},[e("i",{class:"bi bi-house-fill text-success"})])],-1)),ce={class:"col-lg-4"},ie={class:"card border-0 shadow-sm h-100"},de={key:0,class:"card-body p-5 text-muted d-flex justify-content-center align-items-center"},le={key:1,class:"card-body"},re={key:0,class:"d-flex justify-content-between align-items-cente"},_e={class:"col-8"},pe={class:"fs-4 fw-bold text-mute"},ve=l(()=>e("small",null," remaining",-1)),ue=l(()=>e("div",null,[e("span",{class:"small"},"Annual Return")],-1)),me={class:"col-5"},he={key:1},fe={class:"col-lg-4"},ye={class:"card border-0 shadow-sm h-100"},be={key:0,class:"card-body p-5 text-muted d-flex justify-content-center align-items-center"},ge={key:1,class:"card-body"},we={key:0,class:"d-flex justify-content-between align-items-cente"},xe={class:"col-8"},De={class:"fs-4 fw-bold text-mute"},Ce=l(()=>e("small",null," remaining",-1)),ke={class:"small"},Ne=l(()=>e("p",null,"Business Registration Renewal",-1)),Se={class:"col-5"},Ae={key:1},Ie={class:"col-md-12"},Re={class:"card border-0 shadow-sm h-100"},Te=l(()=>e("div",{class:"card-header bg-transparent fw-bold py-4 border-0"}," Recent Activities ",-1)),Le={class:"card-body"},Oe={class:"fw-bold text-muted"},Pe=l(()=>e("div",{class:"row g-3"},[e("div",{class:"col-12"})],-1)),je=q({__name:"UserDashboard",setup(v){F(),V(),i([]);const O=i([]);S({list:[],form_completed:[],is_incorporated:[],isLoading:!0});const r=S({incorporated_date:"",renewal_date:""}),w=i(0);async function P(){var t;try{const s=await h.userNotifications();O.value=((t=s.data)==null?void 0:t.data)??[]}catch{}}async function x(){var a,p;const t=await h.getCompanyReturn(),s=t.data.data;return r.incorporated_date=(a=s==null?void 0:s.registered_company)==null?void 0:a.incorporated_date,r.renewal_date=(p=s==null?void 0:s.registered_company)==null?void 0:p.renewal_date,t}async function j(){const t=await h.getCompanyCount();return w.value=t.data.data,t}z(()=>{P(),C(),E(),x(),j()}),x();const B=A(()=>r.incorporated_date),_=A(()=>{const t=B.value,s=new Date,a=new Date(t);a.setTime(a.getTime()+360*24*60*60*1e3);const p=a-s,m=Math.floor(p/(1e3*60*60*24));return m<0?0:m}),D={colors:["#92b3d5","#16497c"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]},y=i([]),E=()=>{y.value=[_.value,360-_.value]};async function C(){try{const t=new URLSearchParams(u.value).toString(),a=(await h.userActivities(t)).data.data;k.value=a.total,N.value=!1}catch{}}const u=i({page:1,rowsPerPage:15}),k=i(0),M=i([]),N=i(!0);G(u,t=>{C()},{deep:!0});const U=[{text:"NAME",value:"name"},{text:"TYPE",value:"type"},{text:"ACTION",value:"action"},{text:"DATE",value:"created_at"}];return(t,s)=>{const a=g("apexchart"),p=g("isLoadingComponent"),m=g("EasyDataTable");return o(),n("div",Q,[e("div",W,[X,e("div",Z,[e("div",$,[e("div",ee,[e("div",te,[e("div",se,[f(" Total Companies "),e("div",null,[e("span",ae,d(w.value),1),oe])]),ne])])])]),e("div",ce,[e("div",ie,[r.incorporated_date?(o(),n("div",le,[_.value!=0?(o(),n("div",re,[e("div",_e,[e("span",pe,d(_.value)+" Days",1),ve,ue,e("p",null," Next Renewal is "+d(r.renewal_date),1)]),e("div",me,[I(a,{type:"pie",options:D,series:y.value},null,8,["series"])])])):(o(),n("div",he," No Active company found "))])):(o(),n("div",de," No Incorporated company available "))])]),e("div",fe,[e("div",ye,[r.incorporated_date?(o(),n("div",ge,[_.value!=0?(o(),n("div",we,[e("div",xe,[e("span",De,d(_.value)+" Days",1),f(),Ce,e("div",null,[e("span",ke,"Next Payment in "+d(r.renewal_date),1)]),Ne]),e("div",Se,[I(a,{type:"pie",options:D,series:y.value},null,8,["series"])])])):(o(),n("div",Ae," No Active company found "))])):(o(),n("div",be," No Incorporated company available "))])]),e("div",Ie,[e("div",Re,[Te,e("div",Le,[N.value?(o(),R(p,{key:0})):(o(),R(m,{key:1,class:"easy-data-table","show-index":"",headers:U,items:M.value,"buttons-pagination":"","server-options":u.value,"onUpdate:serverOptions":s[0]||(s[0]=c=>u.value=c),"server-items-length":k.value},{header:b(c=>[e("span",Oe,d(c.text=="#"?"S/N":c.text),1)]),"item-updated_at":b(c=>[f(d(T(L).dateDisplay(c.updated_at)),1)]),"item-created_at":b(c=>[f(d(T(L).dateDisplay(c.created_at)),1)]),_:1},8,["items","server-options","server-items-length"]))])]),Pe])])])}}}),Ve=K(je,[["__scopeId","data-v-e0ecfdb9"]]);export{Ve as default};
