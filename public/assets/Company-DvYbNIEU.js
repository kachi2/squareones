import{u as U}from"./paramsStore-jstqHLbN.js";import{u as _}from"./useFunctions-DyPhIe08.js";import{a as R}from"./index-DXpuSE03.js";import"./index.esm-QaD70lsW.js";import{d as P,r as x,z as te,p as V,k as Q,l as N,o as g,c as b,b as e,f as r,t as o,e as i,y as W,g as G,G as X,H as Z,j as Oe,O as Ie,C as F,D as B,_ as H,B as C,s as n,A as M,q as ae,w as be,v as ke,x as Le,M as Re}from"./index-Bo4I0Y7p.js";import{d as fe}from"./index-CKpc9E-L.js";import{p as Ee}from"./pageLoadingComponent-V7rfJ0m2.js";const K=m=>(F("data-v-77d10d71"),m=m(),B(),m),Ae={class:"row g-3"},Ne={class:"card h-100 shadow-sm"},Pe=K(()=>e("div",{class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},"Information ",-1)),Me={class:"card-body small rounded-3"},Ue={class:"list-group list-group-flush"},He={class:"list-group-item ps-0"},Fe={class:"float-end"},Be={class:"list-group-item ps-0"},Ge={class:"float-end"},je={class:"list-group-item ps-0"},Ve={class:"float-end"},ze={class:"list-group-item ps-0"},Ke={class:"float-end"},Ye={class:"list-group-item ps-0"},qe={class:"float-end"},Je={class:"list-group-item ps-0"},We={class:"float-end"},Xe={key:0,class:"col-md-6"},Ze={class:"card h-100 shadow-sm",style:{"min-height":"400px"}},Qe={class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},et={class:"float-end"},tt={class:"dropdown"},at={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},st={class:"card-body small rounded-3"},ot=K(()=>e("div",{class:"fw-bold"},"Tax Ready",-1)),nt=K(()=>e("div",{class:"text-mute my-3"}," To pay your company’s formation fee, make sure you’re not using an anonymous IP address or a VPN. ",-1)),rt=K(()=>e("div",{class:"my-3"}," Tax ID (EIN) ",-1)),it=K(()=>e("hr",null,null,-1)),dt={class:"container mt-5"},ct={class:"row justify-content-center"},lt={class:"col-lg-9"},_t={class:"progress-container"},pt=K(()=>e("div",{class:"progress-line"},null,-1)),mt=Oe('<div class="phase-label phase-1" data-v-77d10d71>Set up <br data-v-77d10d71> company</div><div class="phase-label phase-2" data-v-77d10d71>Preparing <br data-v-77d10d71> Incorporation </div><div class="phase-label phase-3" data-v-77d10d71>Filling<br data-v-77d10d71>Documents</div><div class="phase-label phase-4" data-v-77d10d71>Company<br data-v-77d10d71>Incorporated</div><div class="phase-label phase-5" data-v-77d10d71>Tax ID<br data-v-77d10d71>Ready</div>',5),ut={class:"col-md-6"},gt={class:"card h-100 shadow-sm",style:{border:"none"}},vt=K(()=>e("div",{class:"fw-bold card-header py-3 fs-5 bg-transparent border-0"}," Registered Office and Contact ",-1)),ht={class:"card-body"},bt={class:"list-group list-group-flush"},ft={class:"list-group-item ps-0"},yt={class:"float-end"},xt={class:"list-group-item ps-0"},Dt={class:"float-end"},wt={class:"list-group-item ps-0"},Ct={class:"float-end"},$t={class:"list-group-item ps-0"},St={class:"float-end"},Tt={class:"list-group-item ps-0"},Ot={class:"float-end"},It={class:"list-group-item ps-0"},kt={class:"float-end"},Lt={class:"col-md-6"},Rt={class:"card h-100 shadow-sm",style:{border:"none"}},Et=K(()=>e("div",{class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},"Compliance and Reporting ",-1)),At={class:"card-body"},Nt={class:"list-group list-group-flush"},Pt={class:"list-group-item ps-0"},Mt={class:"float-end"},Ut={class:"list-group-item ps-0"},Ht={class:"float-end"},Ft={class:"list-group-item ps-0"},Bt={class:"float-end"},Gt={class:"list-group-item ps-0"},jt={class:"float-end"},Vt=P({__name:"companyDetails",setup(m){const f=x(!0);function $(s){return f.value=s,f.value}const D=te(()=>f.value?"col-md-6":"col-md-12"),p=U();let v=x("");const d=V({a:!1,b:!1,c:!1,d:!1,e:!1});Q(async()=>{T()}),N(()=>p.hasUpdatedProgress,()=>{T()});function T(){var s;d.a=!1,d.b=!1,d.c=!1,d.d=!1,d.e=!1,v=(s=p.currentCompanyData)==null?void 0:s.registered_company[0],(v==null?void 0:v.registration_progress_id)==5?(d.a=!0,d.b=!0,d.c=!0,d.d=!0,d.e=!0):(v==null?void 0:v.registration_progress_id)==4?(d.a=!0,d.b=!0,d.c=!0,d.d=!0):(v==null?void 0:v.registration_progress_id)==3?(d.a=!0,d.b=!0,d.c=!0):(v==null?void 0:v.registration_progress_id)==2?(d.a=!0,d.b=!0):(v==null?void 0:v.registration_progress_id)==1&&(d.a=!0)}const y=()=>{var a,h;let s=[];const t=(h=(a=p.currentCompanyData)==null?void 0:a.office_contract[0])==null?void 0:h.directors;return t&&(s=JSON.parse(t)),s},c=()=>{var a,h;let s=[];const t=(h=(a=p.currentCompanyData)==null?void 0:a.office_contract[0])==null?void 0:h.shareholders;return t&&(s=JSON.parse(t)),s};function l(s){return s?Ie(s,"MMM, DD").value:"-"}return(s,t)=>{var a,h,j,k,E,O,u,I,q,ee,w,L,A,S,Y,ne,re,ie,de,ce,le,_e,pe,me,ue,ge,ve,he;return g(),b("div",Ae,[e("div",{class:W(D.value,console.log(D.value,"from d class"))},[e("div",Ne,[Pe,e("div",Me,[e("ul",Ue,[e("li",He,[r(" Company Name: "),e("span",Fe,o((h=(a=i(p).currentCompanyData)==null?void 0:a.registered_company[0])==null?void 0:h.company_registered_name),1)]),e("li",Be,[r(" Business Registration Number (BRN): "),e("span",Ge,o((k=(j=i(p).currentCompanyData)==null?void 0:j.registered_company[0])==null?void 0:k.business_registered_number),1)]),e("li",je,[r(" Incorporation Date: "),e("span",Ve,o(i(_).dateDisplay((O=(E=i(p).currentCompanyData)==null?void 0:E.registered_company[0])==null?void 0:O.incorporated_date)),1)]),e("li",ze,[r(" Company Structure: "),e("span",Ke,o((I=(u=i(p).currentCompanyData)==null?void 0:u.registered_company[0])==null?void 0:I.company_structure),1)]),e("li",Ye,[r(" Company Registered In: "),e("span",qe,o((ee=(q=i(p).currentCompanyData)==null?void 0:q.registered_company[0])==null?void 0:ee.company_registered),1)]),e("li",Je,[r(" Business Classification: "),e("span",We,o((L=(w=i(p).currentCompanyData)==null?void 0:w.registered_company[0])==null?void 0:L.business_classification),1)])])])])],2),f.value?(g(),b("div",Xe,[e("div",Ze,[e("div",Qe,[r("Incorporation "),e("span",et,[e("span",tt,[e("span",at,[e("button",{type:"button",onClick:t[0]||(t[0]=J=>$(!1)),class:"btn btn-outline-danger btn-sm"}," X")])])])]),e("div",st,[ot,nt,rt,it,e("div",dt,[e("div",ct,[e("div",lt,[e("div",_t,[pt,e("i",{class:W(d.a?"bi  bi-check-circle-fill text-success phase phase-1":"bi  bi-circle text-warning phase phase-1")},null,2),e("i",{class:W(d.b?"bi  bi-check-circle-fill text-success phase phase-2":"bi  bi-circle text-warning phase phase-2")},null,2),e("i",{class:W(d.c?"bi  bi-check-circle-fill text-success phase phase-3":"bi  bi-circle text-warning phase phase-3")},null,2),e("i",{class:W(d.d?"bi  bi-check-circle-fill text-success phase phase-4":"bi  bi-circle text-warning phase phase-4")},null,2),e("i",{class:W(d.e?"bi  bi-check-circle-fill text-success phase phase-5":"bi  bi-circle text-warning phase phase-5")},null,2),mt])])])])])])])):G("",!0),e("div",ut,[e("div",gt,[vt,e("div",ht,[e("ul",bt,[e("li",ft,[r(o(y().length==1?"Director":"Directors")+": ",1),e("span",yt,[(g(!0),b(X,null,Z(y(),J=>(g(),b("div",{key:J},o(J),1))),128))])]),e("li",xt,[r(o(c().length==1?"Shareholder":"Shareholders")+" ",1),e("span",Dt,[(g(!0),b(X,null,Z(c(),J=>(g(),b("div",{key:J},o(J),1))),128))])]),e("li",wt,[r(" Company Secretary: "),e("span",Ct,o((S=(A=i(p).currentCompanyData)==null?void 0:A.office_contract[0])==null?void 0:S.company_secretary),1)]),e("li",$t,[r(" Registered office: "),e("span",St,o((ne=(Y=i(p).currentCompanyData)==null?void 0:Y.office_contract[0])==null?void 0:ne.registered_office),1)]),e("li",Tt,[r(" Business address: "),e("span",Ot,o((ie=(re=i(p).currentCompanyData)==null?void 0:re.office_contract[0])==null?void 0:ie.business_address),1)]),e("li",It,[r(" Designated Rep.: "),e("span",kt,o((ce=(de=i(p).currentCompanyData)==null?void 0:de.office_contract[0])==null?void 0:ce.scr_designated_representative),1)])])])])]),e("div",Lt,[e("div",Rt,[Et,e("div",At,[e("ul",Nt,[e("li",Pt,[r(" Auditor: "),e("span",Mt,o((_e=(le=i(p).currentCompanyData)==null?void 0:le.compliance_reporting[0])==null?void 0:_e.auditor_name),1)]),e("li",Ut,[r(" Business Registration Renewal: "),e("span",Ht,o(i(_).dateDisplay((me=(pe=i(p).currentCompanyData)==null?void 0:pe.compliance_reporting[0])==null?void 0:me.business_registration_renewal_date)),1)]),e("li",Ft,[r(" Accounting Reference Date: "),e("span",Bt,o(l((ge=(ue=i(p).currentCompanyData)==null?void 0:ue.compliance_reporting[0])==null?void 0:ge.accounting_reference_date)),1)]),e("li",Gt,[r(" Annual Return Date: "),e("span",jt,o(i(_).dateDisplay((he=(ve=i(p).currentCompanyData)==null?void 0:ve.compliance_reporting[0])==null?void 0:he.annual_return_date)),1)])])])])])])}}}),zt=H(Vt,[["__scopeId","data-v-77d10d71"]]),ye=m=>(F("data-v-15d92c3e"),m=m(),B(),m),Kt={class:"col-12"},Yt={class:"card shadow-sm"},qt=ye(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Charges ",-1)),Jt={class:"card-body"},Wt={class:"fw-bold text-muted"},Xt={key:0,class:"my-3"},Zt=ye(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Qt=P({__name:"regOfChargeTable",setup(m){const f=U(),$=[{text:"Charge Creation Date",value:"charge_creation_date"},{text:"Amount Secured by the Charge HKD",value:"account_secured_by_charge"},{text:"Type of Charge",value:"type_of_charge"},{text:"Description  of Charge",value:"charge_description"},{text:"Name of  Chargee",value:"names_of_charge"},{text:"Terms of  Charge",value:"terms_of_charge"},{text:"Registration Details",value:"registration_details"},{text:"Date Created",value:"created_at"}],D=[{text:"Charge Creation Date",value:"charge_creation_date"},{text:"Amount Secured by the Charge HKD",value:"account_secured_by_charge"},{text:"Type of Charge",value:"type_of_charge"},{text:"Description  of Charge",value:"charge_description"},{text:"Name of  Chargee",value:"names_of_charge"},{text:"Terms of  Charge",value:"terms_of_charge"},{text:"Registration Details",value:"registration_details"},{text:"DATE MODIFIED",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=async(c,l)=>{d.data=[];const t=f.currentCompanyData.register_of_charge[c];d.id=t.id,t.logs||(t.expandLoading=!0,await y(),t.logs=t.data,t.expandLoading=!1)};async function y(){var t;const c=new FormData;c.append("charge_id",d.id),c.append("page",p.value.page);const s=((t=(await R.incoprationLogs(c)).data.data)==null?void 0:t.RegisterOfChargeLog)??null;v.value=(s==null?void 0:s.total)??0,d.data=(s==null?void 0:s.data)??[]}return N(p,c=>{y()},{deep:!0}),(c,l)=>{const s=M("EasyDataTable");return g(),b("div",Kt,[e("div",Yt,[qt,e("div",Jt,[C(s,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_charge,"buttons-pagination":"",onExpandRow:T},{header:n(t=>[e("span",Wt,o(t.text=="#"?"S/N":t.text),1)]),"item-charge_creation_date":n(t=>[r(o(i(_).dateDisplay(t.charge_creation_date)),1)]),"item-created_at":n(t=>[r(o(i(_).dateDisplay(t.created_at)),1)]),expand:n(t=>[t.expandLoading?G("",!0):(g(),b("div",Xt,[Zt,C(s,{class:"easy-data-table","show-index":"",headers:D,items:d.data,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>p.value=a),"server-items-length":v.value},{"item-charge_creation_date":n(a=>[r(o(i(_).dateDisplay(a.charge_creation_date)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ea=H(Qt,[["__scopeId","data-v-15d92c3e"]]),xe=m=>(F("data-v-6aaf1205"),m=m(),B(),m),ta={class:"col-12"},aa={class:"card shadow-sm"},sa=xe(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Directors ",-1)),oa={class:"card-body"},na={class:"fw-bold text-muted"},ra={key:0,class:"my-3"},ia=xe(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),da=P({__name:"regOfDirectorsTable",setup(m){const f=U(),$=[{text:"Date of Appointment",value:"date_of_appointment"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"reg_no"},{text:"Residential Address / Registered  Office",value:"registered_office"},{text:"Ceasing to Act",value:"ceasing_of_act"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Appointment",value:"date_of_appointment"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"reg_no"},{text:"Residential Address / Registered  Office",value:"registered_office"},{text:"Ceasing to Act",value:"ceasing_of_act"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=async(c,l)=>{d.data=[];const t=f.currentCompanyData.register_of_director[c];d.id=t.id,t.logs||(t.expandLoading=!0,await y(),t.logs=t.data,t.expandLoading=!1)};async function y(){var t;const c=new FormData;c.append("director_id",d.id),c.append("page",p.value.page);const s=((t=(await R.incoprationLogs(c)).data.data)==null?void 0:t.RegisterOfDirectorLog)??null;v.value=(s==null?void 0:s.total)??0,d.data=(s==null?void 0:s.data)??[]}return N(p,c=>{y()},{deep:!0}),(c,l)=>{const s=M("EasyDataTable");return g(),b("div",ta,[e("div",aa,[sa,e("div",oa,[C(s,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_director,"buttons-pagination":"",onExpandRow:T},{header:n(t=>[e("span",na,o(t.text=="#"?"S/N":t.text),1)]),"item-date_of_appointment":n(t=>[r(o(i(_).dateDisplay(t.date_of_appointment)),1)]),"item-ceasing_of_act":n(t=>[r(o(i(_).dateDisplay(t.ceasing_of_act)),1)]),"item-created_at":n(t=>[r(o(i(_).dateDisplay(t.created_at)),1)]),expand:n(t=>[t.expandLoading?G("",!0):(g(),b("div",ra,[ia,C(s,{class:"easy-data-table",headers:D,items:d.data,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>p.value=a),"server-items-length":v.value},{"item-date_of_appointment":n(a=>[r(o(i(_).dateDisplay(a.date_of_appointment)),1)]),"item-ceasing_of_act":n(a=>[r(o(i(_).dateDisplay(a.ceasing_of_act)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ca=H(da,[["__scopeId","data-v-6aaf1205"]]),De=m=>(F("data-v-59da520f"),m=m(),B(),m),la={class:"col-12"},_a={class:"card shadow-sm"},pa=De(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Shareholders ",-1)),ma={class:"card-body"},ua={class:"fw-bold text-muted"},ga={key:0,class:"my-3"},va=De(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),ha=P({__name:"regOfShareholdersTable",setup(m){const f=U(),$=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Denomination",value:"denomination"},{text:"Current Holding",value:"current_holding"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Date Entered As a Member",value:"date_entered_as_member"},{text:"Date Ceases to Be a Member",value:"date_cease_to_be_member"},{text:"Date Created",value:"created_at"}],D=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Denomination",value:"denomination"},{text:"Current Holding",value:"current_holding"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Date Entered As a Member",value:"date_entered_as_member"},{text:"Date Ceases to Be a Member",value:"date_cease_to_be_member"},{text:"Date Modified",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=l=>d.id==l?d.data:[],y=async(l,s)=>{d.data=[];const a=f.currentCompanyData.register_of_shareholders[l];d.id=a.id,a.logs||(a.expandLoading=!0,await c(),a.logs=a.data,a.expandLoading=!1)};async function c(){var a;const l=new FormData;l.append("shareholder_id",d.id),l.append("page",p.value.page);const t=((a=(await R.incoprationLogs(l)).data.data)==null?void 0:a.RegisterOfShareholderLog)??null;v.value=(t==null?void 0:t.total)??0,d.data=(t==null?void 0:t.data)??[]}return N(p,l=>{c()},{deep:!0}),(l,s)=>{const t=M("EasyDataTable");return g(),b("div",la,[e("div",_a,[pa,e("div",ma,[C(t,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_shareholders,"buttons-pagination":"",onExpandRow:y},{header:n(a=>[e("span",ua,o(a.text=="#"?"S/N":a.text),1)]),"item-date_entered_as_member":n(a=>[r(o(i(_).dateDisplay(a.date_entered_as_member)),1)]),"item-date_cease_to_be_member":n(a=>[r(o(i(_).dateDisplay(a.date_cease_to_be_member)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),expand:n(a=>[a.expandLoading?G("",!0):(g(),b("div",ga,[va,C(t,{class:"easy-data-table","show-index":"",headers:D,items:T(a.id),"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":s[0]||(s[0]=h=>p.value=h),"server-items-length":v.value},{"item-date_entered_as_member":n(h=>[r(o(i(_).dateDisplay(h.date_entered_as_member)),1)]),"item-date_cease_to_be_member":n(h=>[r(o(i(_).dateDisplay(h.date_cease_to_be_member)),1)]),"item-current_holding":n(h=>[r(o(i(_).addCommas(h.current_holding)),1)]),"item-total_consideration":n(h=>[r(o(i(_).addCommas(h.total_consideration)),1)]),"item-created_at":n(h=>[r(o(i(_).dateDisplay(h.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ba=H(ha,[["__scopeId","data-v-59da520f"]]),se=m=>(F("data-v-274e5306"),m=m(),B(),m),fa={class:"col-12"},ya={class:"card shadow-sm"},xa=se(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Significant Controllers ",-1)),Da={class:"card-body"},wa={class:"fw-bold text-muted"},Ca={class:"card p-2 my-2 shadow-none"},$a={class:"list-group list-group-flush"},Sa={key:0,class:"my-3"},Ta=se(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Oa={class:"card-body"},Ia={class:"fw-bold text-muted"},ka={key:0,class:"my-3"},La=se(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Ra=P({__name:"sigControllerTable",setup(m){const f=U(),$=[{text:"Date of Entry",value:"entry_date"},{text:"Name of Registrable Person / Legal Entity",value:"legal_entity_name"},{text:"Address",value:"particulars"},{text:"Date  Becoming a Registrable Person",value:"date_becoming_rep_person"},{text:"Date Cease  to Be a Registrable Person",value:"date_ceased_to_be_rep_person"},{text:"Date Created",value:"created_at"}],D=[{text:" Date of Entry",value:"entry_date"},{text:"Name (Capacity)",value:"name"},{text:"Address",value:"particulars"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],p=[{text:"Date of Entry",value:"entry_date"},{text:"Name of Registrable Person / Legal Entity",value:"legal_entity_name"},{text:"Corresponding Address",value:"corresponding_address"},{text:"ID/Passport/Registration No",value:"identity_info"},{text:"Residential Address",value:"resdential_address"},{text:"Place of Registration.",value:"place_of_registration"},{text:"Nature of Control Over the Company",value:"nature_of_control_over_the_company"},{text:"Date  Becoming a Registrable Person",value:"date_becoming_rep_person"},{text:"Date Cease  to Be a Registrable Person",value:"date_ceased_to_be_rep_person"},{text:"Date MOdified",value:"created_at"}],v=[{text:" Date of Entry",value:"entry_date"},{text:"Name (Capacity)",value:"name"},{text:"ID/Passport/Registration No.",value:"identity_info"},{text:"Place of Registration",value:"place_of_registration"},{text:"Nature of Control Over the Company",value:"nature_of_control_over_the_company"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],d=x({page:1,rowsPerPage:15}),T=x({page:1,rowsPerPage:15}),y=x(0),c=V({id:"",data:[]}),l=x(0),s=V({id:"",data:[]}),t=async(k,E)=>{c.data=[];const u=f.currentCompanyData.significant_controller[k];c.id=u.id,u.logs||(u.expandLoading=!0,await h(),u.logs=u.data,u.expandLoading=!1)},a=async(k,E)=>{s.data=[];const u=f.currentCompanyData.designated_representative[k];c.id=u.id,u.logs||(u.expandLoading=!0,await h(),u.logs=u.data,u.expandLoading=!1)};async function h(){var u;const k=new FormData;k.append("controller_id",c.id),k.append("page",d.value.page);const O=((u=(await R.incoprationLogs(k)).data.data)==null?void 0:u.SignificantControllerLog)??null;y.value=(O==null?void 0:O.total)??0,c.data=(O==null?void 0:O.data)??[]}async function j(){var u;const k=new FormData;k.append("representative_id",s.id),k.append("page",T.value.page);const O=((u=(await R.incoprationLogs(k)).data.data)==null?void 0:u.DesignatedRepresentativeLog)??null;l.value=(O==null?void 0:O.total)??0,s.data=(O==null?void 0:O.data)??[]}return N(d,k=>{h()},{deep:!0}),N(T,k=>{j()},{deep:!0}),(k,E)=>{const O=M("EasyDataTable");return g(),b("div",fa,[e("div",ya,[xa,e("div",Da,[r(" Significant Controllers "),C(O,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.significant_controller,"buttons-pagination":"",onExpandRow:t},{header:n(u=>[e("span",wa,o(u.text=="#"?"S/N":u.text),1)]),"item-particulars":n(u=>{var I;return[e("div",Ca,[e("ul",$a,[e("span",null,o(((I=u==null?void 0:u.controllers_particulars)==null?void 0:I.corresponding_address)??"-"),1)])])]}),"item-entry_date":n(u=>[r(o(i(_).dateDisplay(u.entry_date)),1)]),"item-date_becoming_rep_person":n(u=>[r(o(i(_).dateDisplay(u.date_becoming_rep_person)),1)]),"item-date_ceased_to_be_rep_person":n(u=>[r(o(i(_).dateDisplay(u.date_ceased_to_be_rep_person)),1)]),"item-created_at":n(u=>[r(o(i(_).dateDisplay(u.created_at)),1)]),expand:n(u=>[u.expandLoading?G("",!0):(g(),b("div",Sa,[Ta,C(O,{class:"easy-data-table","show-index":"",headers:p,items:c.data,"buttons-pagination":"","server-options":d.value,"onUpdate:serverOptions":E[0]||(E[0]=I=>d.value=I),"server-items-length":y.value},{"item-charge_creation_date":n(I=>[r(o(i(_).dateDisplay(I.charge_creation_date)),1)]),"item-entry_date":n(I=>[r(o(i(_).dateDisplay(I.entry_date)),1)]),"item-date_becoming_rep_person":n(I=>[r(o(i(_).dateDisplay(I.date_becoming_rep_person)),1)]),"item-date_ceased_to_be_rep_person":n(I=>[r(o(i(_).dateDisplay(I.date_ceased_to_be_rep_person)),1)]),"item-created_at":n(I=>[r(o(i(_).dateDisplay(I.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])]),e("div",Oa,[r(" Designated Representative "),C(O,{class:"easy-data-table",headers:D,items:i(f).currentCompanyData.designated_representative,"buttons-pagination":"",onExpandRow:a},{header:n(u=>[e("span",Ia,o(u.text=="#"?"S/N":u.text),1)]),"item-particulars":n(u=>[r(o((u==null?void 0:u.corresponding_address)??"-"),1)]),"item-entry_date":n(u=>[r(o(i(_).dateDisplay(u.entry_date)),1)]),"item-created_at":n(u=>[r(o(i(_).dateDisplay(u.created_at)),1)]),expand:n(u=>[u.expandLoading?G("",!0):(g(),b("div",ka,[La,C(O,{class:"easy-data-table","show-index":"",headers:v,items:s.data,"buttons-pagination":"","server-options":T.value,"onUpdate:serverOptions":E[1]||(E[1]=I=>T.value=I),"server-items-length":y.value},{"item-entry_date":n(I=>[r(o(i(_).dateDisplay(I.entry_date)),1)]),"item-created_at":n(I=>[r(o(i(_).dateDisplay(I.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Ea=H(Ra,[["__scopeId","data-v-274e5306"]]),we=m=>(F("data-v-bca5160f"),m=m(),B(),m),Aa={class:"col-12"},Na={class:"card shadow-sm"},Pa=we(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Company Name Changes ",-1)),Ma={class:"card-body"},Ua={class:"fw-bold text-muted"},Ha={key:0,class:"my-3"},Fa=we(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Ba=P({__name:"regOfNameChangeTable",setup(m){const f=U(),$=[{text:"Date of Allotment",value:"allotment_date"},{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"DATE CREATED",value:"created_at"}],D=[{text:"Date of Allotment",value:"allotment_date"},{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"DATE MODIFIED",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=async(c,l)=>{d.data=[];const t=f.currentCompanyData.register_of_company_name[c];d.id=t.id,t.logs||(t.expandLoading=!0,await y(),t.logs=t.data,t.expandLoading=!1)};async function y(){var t;const c=new FormData;c.append("company_name_id",d.id),c.append("page",p.value.page);const s=((t=(await R.incoprationLogs(c)).data.data)==null?void 0:t.RegisterOfCompanyNameLog)??null;v.value=(s==null?void 0:s.total)??0,d.data=(s==null?void 0:s.data)??[]}return N(p,c=>{y()},{deep:!0}),(c,l)=>{const s=M("EasyDataTable");return g(),b("div",Aa,[e("div",Na,[Pa,e("div",Ma,[C(s,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_company_name,"buttons-pagination":"",onExpandRow:T},{header:n(t=>[e("span",Ua,o(t.text=="#"?"S/N":t.text),1)]),"item-allotment_date":n(t=>[r(o(i(_).dateDisplay(t.allotment_date)),1)]),"item-created_at":n(t=>[r(o(i(_).dateDisplay(t.created_at)),1)]),"item-no_of_shares_allocated":n(t=>[r(o(i(_).addCommas(t.no_of_shares_allocated)),1)]),"item-total_consideration":n(t=>[r(o(i(_).addCommas(t.total_consideration)),1)]),expand:n(t=>[t.expandLoading?G("",!0):(g(),b("div",Ha,[Fa,C(s,{class:"easy-data-table","show-index":"",headers:D,items:d.data,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>p.value=a),"server-items-length":v.value},{"item-allotment_date":n(a=>[r(o(i(_).dateDisplay(a.allotment_date)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),"item-no_of_shares_allocated":n(a=>[r(o(i(_).addCommas(a.no_of_shares_allocated)),1)]),"item-total_consideration":n(a=>[r(o(i(_).addCommas(a.total_consideration)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Ga=H(Ba,[["__scopeId","data-v-bca5160f"]]),Ce=m=>(F("data-v-e88bc454"),m=m(),B(),m),ja={class:"col-12"},Va={class:"card shadow-sm"},za=Ce(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Secretaries ",-1)),Ka={class:"card-body"},Ya={class:"fw-bold text-muted"},qa={key:0,class:"my-3"},Ja=Ce(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Wa=P({__name:"regOfSecretaryTable",setup(m){const f=U(),$=[{text:"Date of Appointment ",value:"appointment_date"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"identity_info"},{text:"Residential Address / Registered  Office",value:"address"},{text:"Ceasing to Act",value:"cease_to_act"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Appointment",value:"appointment_date"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"identity_info"},{text:"Residential Address / Registered  Office",value:"address"},{text:"Ceasing to Act",value:"cease_to_act"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=async(c,l)=>{d.data=[];const t=f.currentCompanyData.register_of_secretary[c];d.id=t.id,t.logs||(t.expandLoading=!0,await y(),t.logs=t.data,t.expandLoading=!1)};async function y(){var t;const c=new FormData;c.append("secretary_id",d.id),c.append("page",p.value.page);const l=await R.incoprationLogs(c);console.log(l);const s=((t=l.data.data)==null?void 0:t.RegisterOfSecretaryLog)??null;v.value=(s==null?void 0:s.total)??0,d.data=(s==null?void 0:s.data)??[]}return N(p,c=>{y()},{deep:!0}),(c,l)=>{const s=M("EasyDataTable");return g(),b("div",ja,[e("div",Va,[za,e("div",Ka,[C(s,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_secretary,"buttons-pagination":"",onExpandRow:T},{header:n(t=>[e("span",Ya,o(t.text=="#"?"S/N":t.text),1)]),"item-cease_to_act":n(t=>[r(o(i(_).dateDisplay(t.cease_to_act)),1)]),"item-appointment_date":n(t=>[r(o(i(_).dateDisplay(t.appointment_date)),1)]),"item-created_at":n(t=>[r(o(i(_).dateDisplay(t.created_at)),1)]),expand:n(t=>[t.expandLoading?G("",!0):(g(),b("div",qa,[Ja,C(s,{class:"easy-data-table","show-index":"",headers:D,items:d.data,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>p.value=a),"server-items-length":v.value},{"item-cease_to_act":n(a=>[r(o(i(_).dateDisplay(a.cease_to_act)),1)]),"item-appointment_date":n(a=>[r(o(i(_).dateDisplay(a.appointment_date)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Xa=H(Wa,[["__scopeId","data-v-e88bc454"]]),$e=m=>(F("data-v-49480eed"),m=m(),B(),m),Za={class:"col-12"},Qa={class:"card shadow-sm"},es=$e(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Allotments ",-1)),ts={class:"card-body"},as={class:"fw-bold text-muted"},ss={key:0,class:"my-3"},os=$e(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),ns=P({__name:"regOfAllotmentsTable",setup(m){const f=U(),$=[{text:"Date of Allotment ",value:"allotment_date"},{text:"Name and Address",value:"address"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Denomination",value:"denomination"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Allotment ",value:"allotment_date"},{text:"Name and Address",value:"address"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Denomination",value:"denomination"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=async(c,l)=>{d.data=[];const t=f.currentCompanyData.register_of_allotments[c];d.id=t.id,t.logs||(t.expandLoading=!0,await y(),t.logs=t.data,t.expandLoading=!1)};async function y(){var t;const c=new FormData;c.append("allotment_id",d.id),c.append("page",p.value.page);const l=await R.incoprationLogs(c);console.log(l,"expandedItem");const s=((t=l.data.data)==null?void 0:t.RegisterOfAllotmentLog)??null;v.value=(s==null?void 0:s.total)??0,d.data=(s==null?void 0:s.data)??[]}return N(p,c=>{y()},{deep:!0}),(c,l)=>{const s=M("EasyDataTable");return g(),b("div",Za,[e("div",Qa,[es,e("div",ts,[C(s,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_allotments,"buttons-pagination":"",onExpandRow:T},{header:n(t=>[e("span",as,o(t.text=="#"?"S/N":t.text),1)]),"item-cease_to_act":n(t=>[r(o(i(_).dateDisplay(t.cease_to_act)),1)]),"item-appointment_date":n(t=>[r(o(i(_).dateDisplay(t.appointment_date)),1)]),"item-created_at":n(t=>[r(o(i(_).dateDisplay(t.created_at)),1)]),"item-no_of_shares_allocated":n(t=>[r(o(i(_).addCommas(t.no_of_shares_allocated)),1)]),"item-total_consideration":n(t=>[r(o(i(_).addCommas(t.total_consideration)),1)]),expand:n(t=>[t.expandLoading?G("",!0):(g(),b("div",ss,[os,C(s,{class:"easy-data-table","show-index":"",headers:D,items:d.data,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>p.value=a),"server-items-length":v.value},{"item-cease_to_act":n(a=>[r(o(i(_).dateDisplay(a.cease_to_act)),1)]),"item-appointment_date":n(a=>[r(o(i(_).dateDisplay(a.appointment_date)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),"item-no_of_shares_allocated":n(a=>[r(o(i(_).addCommas(a.no_of_shares_allocated)),1)]),"item-total_consideration":n(a=>[r(o(i(_).addCommas(a.total_consideration)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),rs=H(ns,[["__scopeId","data-v-49480eed"]]),Se=m=>(F("data-v-d9253e11"),m=m(),B(),m),is={class:"col-12"},ds={class:"card shadow-sm"},cs=Se(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Transfers ",-1)),ls={class:"card-body"},_s={class:"fw-bold text-muted"},ps={key:0,class:"my-3"},ms=Se(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),us=P({__name:"regOfTransferTable",setup(m){const f=U(),$=[{text:"Date of Registration",value:"registration_date"},{text:"Transferee",value:"transferee"},{text:"Transferor",value:"transferor"},{text:"Number of Shares  Transferred",value:"no_of_shares_transfered"},{text:"Total  Consideration HKD",value:"total_consideration"},{text:"Transferred/Disposal  Method",value:"transfer_method"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Registration",value:"registration_date"},{text:"Transferee",value:"transferee"},{text:"Transferor",value:"transferor"},{text:"Number of Shares  Transferred",value:"no_of_shares_transfered"},{text:"Total  Consideration HKD",value:"total_consideration"},{text:"Transferred/Disposal  Method",value:"transfer_method"},{text:"Date Modified",value:"created_at"}],p=x({page:1,rowsPerPage:15}),v=x(0),d=V({id:"",data:[]}),T=async(c,l)=>{d.data=[];const t=f.currentCompanyData.register_of_transfer[c];d.id=t.id,t.logs||(t.expandLoading=!0,await y(),t.logs=t.data,t.expandLoading=!1)};async function y(){var t;const c=new FormData;c.append("transfer_id",d.id),c.append("page",p.value.page);const l=await R.incoprationLogs(c);console.log(l,"expandedItem");const s=((t=l.data.data)==null?void 0:t.RegisterOfTransferLog)??null;v.value=(s==null?void 0:s.total)??0,d.data=(s==null?void 0:s.data)??[]}return N(p,c=>{y()},{deep:!0}),(c,l)=>{const s=M("EasyDataTable");return g(),b("div",is,[e("div",ds,[cs,e("div",ls,[C(s,{class:"easy-data-table",headers:$,items:i(f).currentCompanyData.register_of_transfer,"buttons-pagination":"",onExpandRow:T},{header:n(t=>[e("span",_s,o(t.text=="#"?"S/N":t.text),1)]),"item-cease_to_act":n(t=>[r(o(i(_).dateDisplay(t.cease_to_act)),1)]),"item-appointment_date":n(t=>[r(o(i(_).dateDisplay(t.appointment_date)),1)]),"item-created_at":n(t=>[r(o(i(_).dateDisplay(t.created_at)),1)]),"item-no_of_shares_transfered":n(t=>[r(o(i(_).addCommas(t.no_of_shares_transfered)),1)]),"item-total_consideration":n(t=>[r(o(i(_).addCommas(t.total_consideration)),1)]),expand:n(t=>[t.expandLoading?G("",!0):(g(),b("div",ps,[ms,C(s,{class:"easy-data-table","show-index":"",headers:D,items:d.data,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>p.value=a),"server-items-length":v.value},{"item-cease_to_act":n(a=>[r(o(i(_).dateDisplay(a.cease_to_act)),1)]),"item-appointment_date":n(a=>[r(o(i(_).dateDisplay(a.appointment_date)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),"item-no_of_shares_transfered":n(a=>[r(o(i(_).addCommas(a.no_of_shares_transfered)),1)]),"item-total_consideration":n(a=>[r(o(i(_).addCommas(a.total_consideration)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),gs=H(us,[["__scopeId","data-v-d9253e11"]]),vs={class:"row g-3"},hs=P({__name:"companyRegisters",setup(m){return(f,$)=>(g(),b("div",vs,[C(ca),C(ba),C(Xa),C(rs),C(gs),C(Ga),C(ea),C(Ea)]))}}),bs=H(hs,[["__scopeId","data-v-a334a747"]]),oe=m=>(F("data-v-692e211d"),m=m(),B(),m),fs={class:"row g-3"},ys={class:"col-12"},xs={class:"card shadow-sm"},Ds=oe(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"},null,-1)),ws={class:"card-body"},Cs={class:"fw-bold text-muted"},$s={class:"list-group list-group-flush"},Ss=["href"],Ts={class:"dropdown"},Os={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Is=oe(()=>e("i",{class:"bi bi-three-dots text-primary"},null,-1)),ks={class:"dropdown-menu dropdown-menu-start"},Ls={class:"list-group list-group-flush"},Rs=["onClick"],Es=oe(()=>e("i",{class:"bi bi-trash3"},null,-1)),As=P({__name:"documents",setup(m){const f=U();Q(()=>{$()});async function $(){try{const l=(await R.getDocuments(f.currentCompanyId)).data.data;p.value=l.total,v.value=l.data,d.value=!1,console.log(l)}catch{}}const D=x({page:1,rowsPerPage:15}),p=x(0),v=x([]),d=x(!0);N(D,c=>{$()},{deep:!0});const T=[{text:"DOCUMENT TITLE",value:"title"},{text:"DOCUMENT",value:"document"},{text:"DOCUMENT TYPE",value:"type"},{text:"YEAR",value:"year"},{text:"DATE ADDED",value:"created_at"},{text:"ACTION",value:"action"}];async function y(c){_.confirmDelete("Delete this document?","Yes, delete").then(async l=>{l.isConfirmed&&(await R.deleteCompanyDocument(c),_.toast("Document deleted","success"),$())})}return(c,l)=>{const s=M("isLoadingComponent"),t=M("EasyDataTable");return g(),b("div",fs,[e("div",ys,[e("div",xs,[Ds,e("div",ws,[d.value?(g(),ae(s,{key:0})):(g(),ae(t,{key:1,class:"easy-data-table",headers:T,items:v.value,"buttons-pagination":"","server-options":D.value,"onUpdate:serverOptions":l[0]||(l[0]=a=>D.value=a),"server-items-length":p.value},{header:n(a=>[e("span",Cs,o(a.text=="#"?"S/N":a.text),1)]),"item-updated_at":n(a=>[r(o(i(_).dateDisplay(a.updated_at)),1)]),"item-created_at":n(a=>[r(o(i(_).dateDisplay(a.created_at)),1)]),"item-document":n(a=>[e("ul",$s,[(g(!0),b(X,null,Z(JSON.parse(a.document),(h,j)=>(g(),b("li",{key:h,class:"list-group-item p-0 border-0"},[e("a",{href:h,target:"_blank;",style:{"text-decoration":"none"}}," Preview file",8,Ss)]))),128))])]),"item-action":n(a=>[e("span",Ts,[e("span",Os,[Is,e("div",ks,[e("ul",Ls,[e("li",{onClick:h=>y(a.id),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[Es,r(" Delete ")],8,Rs)])])])])]),_:1},8,["items","server-options","server-items-length"]))])])])])}}}),Ns=H(As,[["__scopeId","data-v-692e211d"]]),Te=m=>(F("data-v-5f6b519c"),m=m(),B(),m),Ps={class:"row g-3"},Ms={class:"col-12"},Us={class:"card shadow-sm"},Hs={class:"card-body"},Fs={class:"fw-bold text-muted"},Bs={key:0,class:"alert alert-warning py-1 border-0 text-nowrap"},Gs={key:1,class:"alert alert-success py-1 border-0"},js={key:0,class:"alert alert-warning py-1 border-0 text-nowrap"},Vs={key:1,class:"alert alert-success py-1 border-0"},zs=["onClick"],Ks=Te(()=>e("i",{class:"bi bi-arrow-clockwise"},null,-1)),Ys={key:1,disabled:"",class:"btn btn-primary btn-sm text-nowrap"},qs=Te(()=>e("i",{class:"bi bi-arrow-clockwise"},null,-1)),Js=P({__name:"founders",setup(m){const f=U(),$=x(0),D=x([]),p=x({page:1,rowsPerPage:15});Q(()=>{v()});async function v(){try{const y=new URLSearchParams(p.value).toString(),l=(await R.userCompanyFounders(f.currentCompanyId,y)).data.data;$.value=l.total;const s=l.data,t=[];s.length&&s.forEach(a=>{var E,O,u,I;const h=a.individual||a.corporate,j=JSON.parse(a.entity_capacity_id),k=j.includes("1")?j.includes("2")?"Shareholder & Director":"Shareholder":"Director";h&&(h.name=a.entity_type_id==1?`${h.first_name} ${h.last_name} ${h.chn_last_name??""} ${h.chn_first_name??""}`:`${h.company_name} ${h==null?void 0:h.chn_company_name}`,h.copOrInd=a.entity_type_id==1?"Individual":"Corporate",h.shareOrDir=k,h.email=a.entity_type_id==1?h.email:(E=a==null?void 0:a.corporate)==null?void 0:E.authorized_persons.email,h.phone=a.entity_type_id==1?h.phone:(O=a==null?void 0:a.corporate)==null?void 0:O.authorized_persons.phone,h.authorizedPersonName=a.entity_type_id==1?"":((u=a==null?void 0:a.corporate)==null?void 0:u.authorized_persons.first_name)+" "+((I=a==null?void 0:a.corporate)==null?void 0:I.authorized_persons.last_name),h.kyc_status=a.kyc_status,h.signature=a.signature,t.push(h))}),D.value=t}catch{}}N(p,y=>{v()},{deep:!0});const d=[{text:"NAME",value:"name"},{text:"AUTHORIZED PERSON'S NAME",value:"authorizedPersonName"},{text:"TYPE",value:"copOrInd"},{text:"CAPACITY",value:"shareOrDir"},{text:"EMAIL",value:"email"},{text:"PHONE",value:"phone"},{text:"KYC STATUS",value:"kyc_status"},{text:"SIGNATURE",value:"signature"},{text:"ACTION",value:"action"}];x(!1);async function T(y){const c=D.value.find(l=>l.company_entity_id==y);c.isSendingEmail=!0;try{const l=new FormData;l.append("company_id",f.currentCompanyId),l.append("company_entity_id",y),(await R.userResendEmail(l)).status==200?(_.toast("Email Sent","success"),c.isSendingEmail=null):(_.toast("Email not sent, something went wrong","error"),c.isSendingEmail=null)}catch{_.toast("Network error, something went wrong","error"),c.isSendingEmail=null}}return(y,c)=>{const l=M("EasyDataTable");return g(),b("div",Ps,[e("div",Ms,[e("div",Us,[e("div",Hs,[C(l,{class:"easy-data-table",headers:d,items:D.value,"buttons-pagination":"","server-options":p.value,"onUpdate:serverOptions":c[0]||(c[0]=s=>p.value=s),"server-items-length":$.value},{header:n(s=>[e("span",Fs,o(s.text=="#"?"S/N":s.text),1)]),"item-kyc_status":n(s=>[s.kyc_status?(g(),b("span",Gs,"Verified")):(g(),b("span",Bs,"Not Verified"))]),"item-signature":n(s=>[s.signature?(g(),b("span",Vs,"Signed")):(g(),b("span",js,"Not Signed"))]),"item-action":n(s=>[s.isSendingEmail?(g(),b("button",Ys,[qs,r(" Sending .. ")])):(g(),b("button",{key:0,onClick:t=>T(s.company_entity_id),class:"btn btn-primary btn-sm text-nowrap"},[Ks,r(" Resend Email ")],8,zs))]),_:1},8,["items","server-options","server-items-length"])])])])])}}}),Ws=H(Js,[["__scopeId","data-v-5f6b519c"]]),z=m=>(F("data-v-cf0211b4"),m=m(),B(),m),Xs={class:"row g-3"},Zs={class:"col-12"},Qs={class:"card shadow-s"},eo={class:"card-body"},to={class:"row g-3 mb-4"},ao={class:"col-lg-6"},so={class:"card h-100"},oo=z(()=>e("div",{class:"card-header border-0 bg-transparent"},"Team Invitation",-1)),no={class:"card-body"},ro={class:"list-group list-group-flush mt-3"},io={class:"list-group-item px-0"},co={class:"row justify-content-between align-items-center"},lo=["onClick"],_o={key:0,class:"me-3 bi bi-check-circle-fill"},po={key:1,class:"me-3 bi bi-circle"},mo={class:"col-lg-6"},uo={class:"row g-3"},go={class:"col-12"},vo=z(()=>e("option",{value:"",selected:"",disabled:""},"Select Role",-1)),ho=["value"],bo={key:0,class:"col-12"},fo={class:"card h-100 exemptio border-0 bg-light-subtle text-capitalize"},yo={class:"card-header border-0"},xo={class:"float-end"},Do=z(()=>e("i",{class:"bi bi-send"},null,-1)),wo={key:1,class:"btn btn-secondary btn-sm",type:"button",disabled:""},Co=z(()=>e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1)),$o={class:"card-body",style:{height:"280px","overflow-y":"scroll"}},So={class:"list-group list-group-flush small"},To={class:"list-group-item ps-0"},Oo=z(()=>e("div",{class:"div fw-bold mb-3"},"Team Members:",-1)),Io={class:"fw-bold text-muted"},ko={key:0},Lo=z(()=>e("span",{class:"badge bg-success"},"Active",-1)),Ro=[Lo],Eo={key:1},Ao=z(()=>e("span",{class:"badge bg-danger"},"Blocked ",-1)),No=[Ao],Po={class:"dropdown"},Mo={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Uo=z(()=>e("i",{class:"bi bi-three-dots text-primary"},null,-1)),Ho={class:"dropdown-menu dropdown-menu-start"},Fo={class:"list-group list-group-flush"},Bo=["onClick"],Go=z(()=>e("i",{class:"bi bi-exclamation-circle-fill"},null,-1)),jo=P({__name:"teams",setup(m){const f=U(),$=fe.useToast();Q(()=>{h(),j(),k()}),x("");const D=x(""),p=x([]),v=x([]),d=x(""),T=te(()=>[]),y=x(null),c=w=>{y.value=w,v.value.forEach(L=>{L.isSelected=!1}),w.isSelected=!0};async function l(w){const L=new FormData,A=p.value.teams.id;L.append("team_id",A),L.append("user_id",w);const S=await R.removeUserfromTeam(L);O.value=S.data.data,k(),console.log(O)}const s=te(()=>{let w=null;return D.value&&(w=p.value.roles.find(L=>L.name.toLowerCase()===D.value.toLowerCase())),w}),t=x(!1);async function a(){!y.value&&!_.isEmail(d.value)&&$.info("Select a user or enter a valid email address",{position:"top-right"}),t.value=!0;try{const w=new FormData,L=p.value.teams.id;w.append("company_id",f.currentCompanyId),w.append("team_id",L),w.append("role",D.value),y.value?(w.append("user_id",y.value.id),w.append("email",y.value.email)):(w.append("user_id",""),w.append("email",d.value));const A=await R.userTeamsInvitation(w);console.log(A),A.status==200?($.info("Invitation Sent Sucessfully",{position:"top-right"}),d.value="",t.value=!1):A.status==203&&($.info("User already exist in the team",{position:"top-right"}),t.value=!1)}catch{t.value=!1,$.error("Something went Wrong",{position:"top-right"})}}async function h(){try{const w=await R.userGetCompany(f.currentCompanyId);p.value=w.data.data}catch{}}async function j(){var w,L,A;try{const S=await R.getUsers("?page=1");v.value=((A=(L=(w=S.data)==null?void 0:w.data)==null?void 0:L.users)==null?void 0:A.data)??[]}catch{}}async function k(){try{const w=new FormData;w.append("company_id",f.currentCompanyId),w.append("team_id","23");const A=(await R.userTeamMembers(w)).data.data;u.value=A.total,O.value=A,I.value=!1}catch{}}const E=x(0),O=x([]),u=x(0),I=x(!0),q=x({page:1,rowsPerPage:15});N(q,w=>{k()},{deep:!0});const ee=[{text:"NAME",value:"users.name"},{text:"EMAIL",value:"user.email"},{text:"STATUS",value:"action_status"},{text:"ROLE",value:"role"},{text:"DATE ADDED",value:"created_at"},{text:"ACTION",value:"action"}];return(w,L)=>{const A=M("EasyDataTable");return g(),b("div",Xs,[e("div",Zs,[e("div",Qs,[e("div",eo,[e("div",to,[e("div",ao,[e("div",so,[oo,e("div",no,[be(e("input",{"onUpdate:modelValue":L[0]||(L[0]=S=>d.value=S),type:"text",class:"form-control",placeholder:"search by name or email"},null,512),[[ke,d.value]]),e("ul",ro,[(g(!0),b(X,null,Z(T.value,S=>(g(),b("li",io,[e("div",co,[e("div",{onClick:Y=>c(S),class:"col-lg-12 text-info-emphasis fw-bold small cursor-pointer"},[S.isSelected?(g(),b("i",_o)):(g(),b("i",po)),r(" "+o(S.name)+" ("+o(S.email)+") ",1)],8,lo)])]))),256))])])])]),e("div",mo,[e("div",uo,[e("div",go,[be(e("select",{"onUpdate:modelValue":L[1]||(L[1]=S=>D.value=S),class:"form-select form-select-sm text-capitalize"},[vo,(g(!0),b(X,null,Z(p.value.roles,S=>(g(),b("option",{value:S.name},o(S.name),9,ho))),256))],512),[[Le,D.value]])]),s.value?(g(),b("div",bo,[e("div",fo,[e("div",yo,[r(o(s.value.description)+" ",1),e("div",xo,[t.value?(g(),b("button",wo,[Co,r(" Sending ")])):(g(),b("button",{key:0,onClick:a,class:"btn btn-sm btn-secondary"},[r(" Invite User "),Do]))])]),e("div",$o,[e("ul",So,[(g(!0),b(X,null,Z(s.value.permission,S=>(g(),b("li",To,[e("strong",null,o(S.name),1),e("div",null,o(S.description),1)]))),256))])])])])):G("",!0)])])]),Oo,C(A,{class:"easy-data-table",headers:ee,items:O.value,"buttons-pagination":"","server-options":q.value,"onUpdate:serverOptions":L[2]||(L[2]=S=>q.value=S),"server-items-length":E.value},{header:n(S=>[e("span",Io,o(S.text),1)]),"item-created_at":n(S=>[r(o(i(_).dateDisplay(S.created_at,"m,y,t")),1)]),"item-action_status":n(S=>{var Y;return[((Y=S.users)==null?void 0:Y.status)==1?(g(),b("span",ko,Ro)):(g(),b("span",Eo,No))]}),"item-action":n(S=>[e("span",Po,[e("span",Mo,[Uo,e("div",Ho,[e("ul",Fo,[e("li",{onClick:Y=>l(S.user_id),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[Go,r(" Remove from Team ")],8,Bo)])])])])]),_:1},8,["items","server-options","server-items-length"])])])])])}}}),Vo=H(jo,[["__scopeId","data-v-cf0211b4"]]),zo={key:0},Ko={key:1,class:"p-3"},Yo={class:"card-body"},qo=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link active",id:"tab1-tab","data-bs-toggle":"tab","data-bs-target":"#tab1",type:"button",role:"tab","aria-controls":"tab1","aria-selected":"true"}," Company details ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab2-tab","data-bs-toggle":"tab","data-bs-target":"#tab2",type:"button",role:"tab","aria-controls":"tab2","aria-selected":"false"}," Company Registers ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab4-tab","data-bs-toggle":"tab","data-bs-target":"#tab4",type:"button",role:"tab","aria-controls":"tab4","aria-selected":"false"}," Documents ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab5-tab","data-bs-toggle":"tab","data-bs-target":"#tab5",type:"button",role:"tab","aria-controls":"tab5","aria-selected":"false"}," Team Members ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab6-tab","data-bs-toggle":"tab","data-bs-target":"#tab6",type:"button",role:"tab","aria-controls":"tab6","aria-selected":"false"}," Verifications ")])],-1),Jo={key:1,class:"tab-content py-4"},Wo={class:"tab-pane active",id:"tab1",role:"tabpanel","aria-labelledby":"tab1-tab"},Xo={class:"tab-pane",id:"tab2",role:"tabpanel","aria-labelledby":"tab2-tab"},Zo={class:"tab-pane",id:"tab4",role:"tabpanel","aria-labelledby":"tab4-tab"},Qo={class:"tab-pane",id:"tab5",role:"tabpanel","aria-labelledby":"tab5-tab"},en={class:"tab-pane",id:"tab6",role:"tabpanel","aria-labelledby":"tab6-tab"},cn=P({__name:"Company",setup(m){const f=U(),$=Re(),D=fe.useToast(),p=x(!0),v=x(!0);Q(()=>{d()});function d(){$.query.invite?y():T()}N(()=>f.currentCompanyId,()=>{T()});async function T(){v.value=!1,await f.getCompanyDetails(),p.value=!1}async function y(){const c=$.query.invite;try{const l=new FormData;l.append("token",c);const s=await R.userTeamsInvitationAccept(l);console.log(s),s.status==200?(D.info("Invitation Accepted, you have been added to this team",{position:"top-right"}),f.currentCompanyId=s.data.data.companyId,T()):s.status==203&&D.info("This Token is invalid",{position:"top-right"})}catch(l){console.log(l),D.error("Something went Wrong",{position:"top-right"})}}return(c,l)=>{const s=M("isLoadingComponent");return v.value?(g(),b("div",zo,[C(Ee)])):(g(),b("div",Ko,[e("div",Yo,[qo,p.value?(g(),ae(s,{key:0})):(g(),b("div",Jo,[e("div",Wo,[C(zt)]),e("div",Xo,[C(bs)]),e("div",Zo,[C(Ns)]),e("div",Qo,[C(Vo)]),e("div",en,[C(Ws)])]))])]))}}});export{cn as default};
