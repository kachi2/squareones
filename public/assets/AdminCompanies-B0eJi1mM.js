import{d as R,r as g,p as P,k as D,P as V,o as d,c as p,b as s,B as b,s as h,t as i,f as m,w as j,v as G,q as Y,e as $,A as w,C as F,D as q,_ as z}from"./index-C_Om0tdE.js";import{a as I}from"./index-avVWFD8S.js";import{u as H}from"./adminParamsStore-B-A9rqHn.js";const c=f=>(F("data-v-cd1f53d3"),f=f(),q(),f),J={class:"container"},K=c(()=>s("h5",{class:"fw-bold page-title mb-2"}," Companies Overview",-1)),Q=c(()=>s("div",{class:"mb-3"}," Have a Glance of this company Informaiton",-1)),W={class:"row g-3 mb-5"},X={class:"col-md-4 pb-3"},Z={class:"card border-0 shadow-sm h-70"},ss={class:"card-body"},ts={class:"d-flex justify-content-between align-items-cente"},es={class:"col-12"},os={class:"fs-4 fw-bold text-primary"},as=c(()=>s("span",{class:"small fw-bold"},"Total Companies",-1)),ns={style:{"font-size":"10px"},class:""},is={class:"text-info fw-bold"},cs={class:"small badge bg-success"},ls={class:"small badge bg-danger"},ds={class:"col-md-4"},rs={class:"card border-0 shadow-sm h-70"},_s={class:"card-body"},ps={class:"d-flex justify-content-between align-items-cente"},hs={class:"col-12"},ms={class:"fs-4 fw-bold text-warning"},us=c(()=>s("div",null,[s("span",{class:"small fw-bold"},"Pending Incorporation")],-1)),vs={class:"small"},gs={class:"text-primary fw-bold"},bs={class:"col-md-4"},fs={class:"card border-0 shadow-sm h-70"},xs={class:"card-body"},ys={class:"d-flex justify-content-between align-items-cente"},Cs={class:"col-12"},ws={class:"fs-4 fw-bold text-success"},Is=c(()=>s("div",null,[s("span",{class:"small fw-bold"},"Incorporated")],-1)),Ss={class:"small"},Ns={class:"text-primary fw-bold"},Ts={class:"col-12 mt-1"},ks={class:"card shadow-sm"},As={class:"card-header bg-transparent fw-bold py-3 border-0"},Us=c(()=>s("br",null,null,-1)),Bs=c(()=>s("small",null," List of all registered company using the company formation",-1)),Es={style:{float:"right"}},Ms={key:1,class:"card-body"},Os={class:"fw-bold text-muted"},Ls={class:"list-group list-group-flush"},Rs={class:"list-group-item"},Ps=c(()=>s("span",null,"FORM FILLING STATUS: ",-1)),Ds={key:0,class:"badge bg-success-subtle text-dark"},Vs={key:1,class:"badge bg-warning-subtle text-dark"},js={class:"list-group-item"},Gs=c(()=>s("span",null,"PAYMENT STATUS: ",-1)),Ys={key:0,class:"badge bg-success-subtle text-dark"},$s={key:1,class:"badge bg-warning-subtle text-dark"},Fs={class:"list-group-item"},qs=c(()=>s("span",null,"INCOPRATION STATUS: ",-1)),zs={key:0,class:"badge bg-success-subtle text-dark"},Hs={key:1,class:"badge bg-warning-subtle text-dark"},Js=c(()=>s("i",{class:"bi bi-exclamation-circle"},null,-1)),Ks=R({__name:"AdminCompanies",setup(f){const x=H(),y=g(""),o=P({list:[],form_completed:[],is_incorporated:[],isLoading:!0}),k=u=>{const n=u.id,e=o.list.find(a=>a.id==n).names.find(a=>a.choice_level==1),C=e!=null&&e.eng_name?(e==null?void 0:e.eng_name)+" "+(e==null?void 0:e.eng_prefix):"",t=e!=null&&e.chn_name?(e==null?void 0:e.chn_name)+" "+(e==null?void 0:e.chn_prefix):"";return`${C} ${t}`},l=g([]);async function A(){var u;try{const n=await I.getCompanyStats();l.value=((u=n.data)==null?void 0:u.data)??[],console.log(l.value)}catch{}}D(()=>{U(),A()}),V(()=>{x.isCompaniesByUser=""});async function U(){try{const n=(x.isCompaniesByUser?await I.getCompaniesByUserID(x.isCompaniesByUser):await I.getCompanies()).data.data;o.list=n.companies,o.form_completed=n.form_completed,o.is_incorporated=n.is_incorporated,o.isLoading=!1,L()}catch{}}const B=[{text:"COMPANY NAME",value:"name"},{text:"REGISTRATION NUMBER",value:"business_reg_no"},{text:"INCORPORATION STATUSES",value:"incorporation_statuses"},{text:"MAIN CONTACT",value:"contact"},{text:"SERVICE",value:"company_services"},{text:"PAYMENT STATUS",value:"payment_status"},{text:"ACTION",value:"action"}],E=g([1,1]),M=g([1,1]),O=g([1,1]);function L(){E.value=[o.list.length,o.list.length],M.value=[o.list.length-o.is_incorporated.length,o.list.length-(o.list.length-o.is_incorporated.length)],O.value=[o.is_incorporated.length,o.list.length-o.is_incorporated.length]}return(u,n)=>{const v=w("router-link"),e=w("isLoadingComponent"),C=w("EasyDataTable");return d(),p("div",J,[K,Q,s("div",W,[s("div",X,[b(v,{to:"/admin/companies",style:{"text-decoration":"none"}},{default:h(()=>{var t,a,r,_,S,N,T;return[s("div",Z,[s("div",ss,[s("div",ts,[s("div",es,[s("span",os,i((t=l.value)==null?void 0:t.total),1),s("div",null,[as,m("   "),s("small",ns,[s("span",is,i((r=(a=l.value)==null?void 0:a.data)==null?void 0:r.thismonth),1),m(" added this month")])]),s("div",null,[s("span",cs,i((S=(_=l.value)==null?void 0:_.data)==null?void 0:S.active)+" active ",1),m("   "),s("span",ls,i((T=(N=l.value)==null?void 0:N.data)==null?void 0:T.inactive)+" Inactive ",1)])])])])])]}),_:1})]),s("div",ds,[b(v,{to:"/admin/companies",style:{"text-decoration":"none"}},{default:h(()=>{var t,a,r,_;return[s("div",rs,[s("div",_s,[s("div",ps,[s("div",hs,[s("span",ms,i((a=(t=l.value)==null?void 0:t.data)==null?void 0:a.Unincorporated),1),us,s("div",null,[s("span",vs,[s("span",gs,i((_=(r=l.value)==null?void 0:r.data)==null?void 0:_.thisMonthUnIncorporated),1),m(" new company added this month")])])])])])])]}),_:1})]),s("div",bs,[b(v,{to:"/admin/companies",style:{"text-decoration":"none"}},{default:h(()=>{var t,a,r,_;return[s("div",fs,[s("div",xs,[s("div",ys,[s("div",Cs,[s("span",ws,i(((a=(t=l.value)==null?void 0:t.data)==null?void 0:a.incorporated)??"0"),1),Is,s("div",null,[s("span",Ss,[s("span",Ns,i(((_=(r=l.value)==null?void 0:r.data)==null?void 0:_.thisMonthIncorporated)??"0"),1),m(" new companies added this month")])])])])])])]}),_:1})]),s("div",Ts,[s("div",ks,[s("div",As,[m(" Registered Companies ("+i(o.list.length)+")",1),Us,Bs,s("span",Es,[j(s("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>y.value=t),placeholder:"Search Item",style:{border:"1px solid #eee"},class:"form-control"},null,512),[[G,y.value]])])]),o.isLoading?(d(),Y(e,{key:0})):(d(),p("div",Ms,[b(C,{"search-value":y.value,style:{border:"1px solid #eee"},class:"easy-data-table",headers:B,items:o.list,"buttons-pagination":""},{header:h(t=>[s("span",Os,i(t.text=="#"?"S/N":t.text),1)]),"item-name":h(t=>[m(i(k(t)),1)]),"item-incorporation_statuses":h(t=>[s("ul",Ls,[s("li",Rs,[Ps,t.is_complete?(d(),p("span",Ds,"Complete")):(d(),p("span",Vs,"Not Complete"))]),s("li",js,[Gs,t.billing?(d(),p("span",Ys,"Complete")):(d(),p("span",$s,"Not Complete"))]),s("li",Fs,[qs,t.is_incorporated?(d(),p("span",zs,"Incorporated")):(d(),p("span",Hs,"Not Incorporated"))])])]),"item-action":h(t=>[b(v,{onClick:a=>$(x).currentCompanyId=t.id,class:"text-decoration-none",to:"/admin/company"},{default:h(()=>[Js,m(" Details ")]),_:2},1032,["onClick"])]),_:1},8,["search-value","items"])]))])])])])}}}),Zs=z(Ks,[["__scopeId","data-v-cd1f53d3"]]);export{Zs as default};
