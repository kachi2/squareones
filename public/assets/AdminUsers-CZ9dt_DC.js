import{a as S}from"./index-DXpuSE03.js";import{u as U}from"./useFunctions-DyPhIe08.js";import{u as j}from"./adminParamsStore-qKTpgPbj.js";import{d as $,a as q,k as F,r as l,l as K,o,c as i,b as s,t as n,B as v,f as _,q as D,s as r,e as A,A as b,C as M,D as W,_ as z}from"./index-Bo4I0Y7p.js";const a=u=>(M("data-v-41ffc574"),u=u(),W(),u),G={class:"container min-vh-100"},H=a(()=>s("h5",{class:"fw-bold page-title mb-4"}," Registerd Users",-1)),J={class:"row g-3"},Q={class:"col-md-3"},X={class:"card border-0 shadow-sm h-100"},Y={class:"card-body"},Z={class:"d-flex justify-content-between align-items-cente"},ss={class:"col-6"},es={class:"fs-4 fw-bold text-mute"},ts=a(()=>s("div",null,[s("span",{class:"small"},"Registered Users")],-1)),os={class:"col-6"},as={class:"col-md-3"},is={class:"card border-0 shadow-sm h-100"},ns={class:"card-body"},cs={class:"d-flex justify-content-between align-items-cente"},ls={class:"col-6"},ds={class:"fs-4 fw-bold text-mute"},rs=a(()=>s("div",null,[s("span",{class:"small"},"Active Users")],-1)),_s={class:"col-6"},ps={class:"col-md-3"},us={class:"card border-0 shadow-sm h-100"},hs={class:"card-body"},vs={class:"d-flex justify-content-between align-items-cente"},ms={class:"col-7"},bs={class:"fs-4 fw-bold text-mute"},gs=a(()=>s("span",{class:"small"},"New Users",-1)),fs=a(()=>s("br",null,null,-1)),ys={style:{color:"green"}},ws={class:"col-5"},xs={class:"col-md-3"},ks={class:"card border-0 shadow-sm h-100"},Cs={class:"card-body"},Ss={class:"row justify-content-between align-items-cente"},Us={class:"col-6"},Ds={class:"fs-4 fw-bold text-mute"},As=a(()=>s("div",null,[s("span",{class:"small"},"Verified Users"),_(),s("br")],-1)),Is={class:"col-6"},Ls={class:"col-12"},Bs={style:{color:"red"}},Es={class:"col-12"},Vs={class:"card"},Ns={class:"card-body"},Ps={class:"fw-bold text-muted"},Ts={key:0,class:"badge bg-success-subtle text-dark",style:{width:"60px"}},Os={key:1,class:"badge bg-warning-subtle text-dark",style:{width:"60px"}},Rs={key:0,class:"badge bg-success-subtle text-dark",style:{width:"60px"}},js={key:1,class:"badge bg-warning-subtle text-dark",style:{width:"60px"}},$s={key:0,class:"badge bg-success-subtle text-dark",style:{width:"60px"}},qs={key:1,class:"badge bg-warning-subtle text-dark",style:{width:"60px"}},Fs={class:"dropdown"},Ks={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Ms=a(()=>s("i",{class:"bi bi-three-dots text-primary"},null,-1)),Ws={class:"dropdown-menu dropdown-menu-start"},zs={class:"list-group list-group-flush"},Gs=["onClick"],Hs=a(()=>s("i",{class:"bi bi-eye"},null,-1)),Js=["onClick"],Qs=a(()=>s("i",{class:"bi bi-exclamation-circle-fill"},null,-1)),Xs=["onClick"],Ys=a(()=>s("i",{class:"bi bi-check-circle-fill"},null,-1)),Zs=$({__name:"AdminUsers",setup(u){const I=j(),L=q();F(()=>{m()});const d=l([]);async function m(){try{const c=new URLSearchParams(h.value).toString(),t=(await S.getUsers(c)).data.data;g.value=t.users.total,f.value=t.users.data,d.value=t,y.value=!1,console.log("users:",t)}catch{}}const h=l({page:1,rowsPerPage:15}),g=l(0),f=l([]),y=l(!0),B=[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Email Verification",value:"email_verified_at"},{text:"Status",value:"status"},{text:"Date Registered",value:"created_at"},{text:"Last Login",value:"last_login"},{text:"Kyc Status",value:"kyc_status"},{text:"Action",value:"action"}];K(h,c=>{m()},{deep:!0});function E(c){I.isCompaniesByUser=c,L.push({path:"/admin/companies"})}async function w(c,p){try{const t=new FormData;t.append("user_id",c),t.append("status",p),await S.updateUserStatus(t),m()}catch{}}const V={colors:["#064608","#b1f5b3"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]},N=l([1,9]),P={colors:["#16497c","#92b3d5"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]},T=l([8,2]),x={colors:["#463206","#ecd29c"],chart:{type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},responsive:[{options:{chart:{},legend:{position:"bottom"}}}]},k=l([3,7]);return(c,p)=>{const t=b("apexchart"),O=b("isLoadingComponent"),R=b("EasyDataTable");return o(),i("div",G,[H,s("div",J,[s("div",Q,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("span",es,n(d.value.userCount),1),ts]),s("div",os,[v(t,{type:"pie",options:V,series:N.value},null,8,["series"])])])])])]),s("div",as,[s("div",is,[s("div",ns,[s("div",cs,[s("div",ls,[s("span",ds,n(d.value.active),1),rs]),s("div",_s,[v(t,{type:"pie",options:P,series:T.value},null,8,["series"])])])])])]),s("div",ps,[s("div",us,[s("div",hs,[s("div",vs,[s("div",ms,[s("span",bs,n(d.value.newUsers),1),s("div",null,[gs,_(),fs,s("small",ys,n(d.value.newThisWeek)+" this week",1)])]),s("div",ws,[v(t,{type:"pie",options:x,series:k.value},null,8,["series"])])])])])]),s("div",xs,[s("div",ks,[s("div",Cs,[s("div",Ss,[s("div",Us,[s("span",Ds,n(d.value.verified),1),As]),s("div",Is,[v(t,{type:"pie",options:x,series:k.value},null,8,["series"])]),s("div",Ls,[s("small",Bs,n(d.value.unVerified)+" pending unverified ",1)])])])])]),s("div",Es,[s("div",Vs,[s("div",Ns,[y.value?(o(),D(O,{key:0})):(o(),D(R,{key:1,class:"easy-data-table","show-index":"",headers:B,items:f.value,"buttons-pagination":"","server-options":h.value,"onUpdate:serverOptions":p[0]||(p[0]=e=>h.value=e),"server-items-length":g.value},{header:r(e=>[s("span",Ps,n(e.text=="#"?"S/N":e.text),1)]),"item-last_login":r(e=>[_(n(A(U).dateDisplay(e.last_login)),1)]),"item-created_at":r(e=>[_(n(A(U).dateDisplay(e.created_at)),1)]),"item-status":r(e=>[e.status==1?(o(),i("span",Ts,"ACTIVE")):(o(),i("span",Os,"DISABLED"))]),"item-kyc_status":r(e=>[e.kyc_status!=null?(o(),i("span",Rs,"Completed")):(o(),i("span",js,"pending"))]),"item-email_verified_at":r(e=>[e.email_verified_at!=null?(o(),i("span",$s,"verified")):(o(),i("span",qs,"pending"))]),"item-action":r(e=>[s("span",Fs,[s("span",Ks,[Ms,s("div",Ws,[s("ul",zs,[s("li",{onClick:C=>E(e.id),class:"dropdown-item text-primary",style:{"background-color":"transparent !important"}},[Hs,_(" Companies ")],8,Gs),e.status==1?(o(),i("li",{key:0,onClick:C=>w(e.id,2),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[Qs,_(" Disable user ")],8,Js)):(o(),i("li",{key:1,onClick:C=>w(e.id,1),class:"dropdown-item text-success",style:{"background-color":"transparent !important"}},[Ys,_(" Activate user ")],8,Xs))])])])])]),_:1},8,["items","server-options","server-items-length"]))])])])])])}}}),ae=z(Zs,[["__scopeId","data-v-41ffc574"]]);export{ae as default};
