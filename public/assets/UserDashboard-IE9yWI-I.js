import{a as m}from"./index-BU18x3BW.js";import{u as O}from"./paramsStore-rzWnpdRo.js";import{d as P,u as B,r as d,p as j,k as V,l as M,o as v,c as S,b as s,t as o,e as p,g as R,f as l,q as C,s as u,j as q,A as D,D as F,E as G,_ as H}from"./index-D4gsUGoW.js";import{u as b}from"./useFunctions-CWgVnZ2l.js";import"./sweetalert2.all-C5oE6JWa.js";const t=r=>(F("data-v-51e07b42"),r=r(),G(),r),W={class:"container"},X=t(()=>s("h5",{class:"fw-bold page-title mb-2"},"Dashboard Overview",-1)),Y=t(()=>s("div",{class:"mb-3"},"Have a Glance of this company Informaiton",-1)),z={class:"row g-3"},J={class:"col-lg-7"},K={class:"card border-0 shadow-sm h-100"},Q={class:"card-body"},Z={class:"row g-3"},$={class:"col-md-9"},ss=t(()=>s("p",null," Manage your company in a single clicks, click on the navigation to view individual company details ",-1)),ts={class:"col-lg-5"},es={class:"card border-0 shadow-sm h-100"},as=t(()=>s("div",{class:"card-header border-0 bg-transparent fw-bold"},[s("i",{class:"fw-bold bi bi-bell"}),l(" NOTIFICATIONS ")],-1)),os={class:"card-body"},cs={class:"row"},is=t(()=>s("div",{class:"col-md-1"},[s("a",{href:"",style:{color:"red","text-decoration":"none"}},"X")],-1)),ds={class:"col-md-8"},ns={key:0,class:"text-black"},ls={class:"badge bg-secondary",style:{"border-radius":"5px"}},rs=t(()=>s("br",null,null,-1)),_s={class:"text-mute"},vs={class:"col-md-3 text-mute"},ps={class:"col-lg-4"},hs={class:"card border-0 shadow-sm h-100"},ms={class:"card-body py-4"},us={class:"d-flex justify-content-between align-items-cente"},bs={class:"col-8"},gs={class:"fs-4 fw-bold text-mute"},fs=t(()=>s("span",{class:"small"},null,-1)),ys=t(()=>s("div",{class:"col-4"},[s("div",{class:"round bg-success-subtle"},[s("i",{class:"bi bi-house-fill text-success"})])],-1)),ws={class:"col-lg-4"},xs={class:"card border-0 shadow-sm h-100"},Ns={class:"card-body py-4"},Ss={class:"d-flex justify-content-between align-items-cente"},Cs={class:"col-8"},Ds={class:"fs-4 fw-bold text-mute"},Is=t(()=>s("span",{class:"small"},null,-1)),ks=t(()=>s("div",{class:"col-4"},[s("div",{class:"round bg-warning-subtle"},[s("i",{class:"bi bi-house text-warning"})])],-1)),As=q('<div class="col-lg-4" data-v-51e07b42><div class="card border-0 shadow-sm h-100" data-v-51e07b42><div class="card-body py-4" data-v-51e07b42><div class="d-flex justify-content-between align-items-cente" data-v-51e07b42><div class="col-8" data-v-51e07b42> Pending Renewals <div data-v-51e07b42><span class="fs-4 fw-bold text-mute" data-v-51e07b42>0</span><span class="small" data-v-51e07b42> from this year</span></div></div><div class="col-4" data-v-51e07b42><div class="round bg-primary-subtle" data-v-51e07b42><i class="bi bi-cash text-primary" data-v-51e07b42></i></div></div></div></div></div></div>',1),Ts={class:"col-md-12"},Us={class:"card border-0 shadow-sm h-100"},Es=t(()=>s("div",{class:"card-header bg-transparent fw-bold py-4"}," Recent Activities ",-1)),Ls={class:"card-body"},Os={class:"fw-bold text-muted"},Ps=t(()=>s("div",{class:"row g-3"},[s("div",{class:"col-12"})],-1)),Bs=P({__name:"UserDashboard",setup(r){const I=B(),k=O();d([]);const n=d([]),i=j({list:[],form_completed:[],is_incorporated:[],isLoading:!0});async function A(){var a;try{const e=await m.userNotifications();n.value=((a=e.data)==null?void 0:a.data)??[]}catch{}}V(()=>{T(),A(),g()});async function T(){try{const e=(await m.getCompaniesByUserID(k.currentUserId)).data.data;i.list=e.companies,i.form_completed=e.form_completed,i.is_incorporated=e.is_incorporated,i.isLoading=!1}catch{}}async function g(){try{const a=new URLSearchParams(_.value).toString(),h=(await m.userActivities(a)).data.data;f.value=h.total,y.value=!1}catch{}}const _=d({page:1,rowsPerPage:15}),f=d(0),U=d([]),y=d(!0);M(_,a=>{g()},{deep:!0});const E=[{text:"NAME",value:"name"},{text:"TYPE",value:"type"},{text:"ACTION",value:"action"},{text:"DATE",value:"created_at"}];return(a,e)=>{var w,x,N;const h=D("isLoadingComponent"),L=D("EasyDataTable");return v(),S("div",W,[X,Y,s("div",z,[s("div",J,[s("div",K,[s("div",Q,[s("div",Z,[s("div",$,[s("strong",null,"Welcom back "+o(p(I).profileDataName.toUpperCase())+",",1),ss])])])])]),s("div",ts,[s("div",es,[as,s("div",os,[s("div",cs,[is,s("div",ds,[n.value.length?R("",!0):(v(),S("span",ns," No Notificatons")),s("span",ls,o((w=n.value[0])==null?void 0:w.title),1),rs,s("span",_s,o((x=n.value[0])==null?void 0:x.content),1)]),s("div",vs,o(p(b).dateDisplay((N=n.value[0])==null?void 0:N.created_at)),1)])])])]),s("div",ps,[s("div",hs,[s("div",ms,[s("div",us,[s("div",bs,[l(" Total Companies "),s("div",null,[s("span",gs,o(i.list.length),1),fs])]),ys])])])]),s("div",ws,[s("div",xs,[s("div",Ns,[s("div",Ss,[s("div",Cs,[l(" Incorporated Companies "),s("div",null,[s("span",Ds,o(i.is_incorporated.length),1),Is])]),ks])])])]),As,s("div",Ts,[s("div",Us,[Es,s("div",Ls,[y.value?(v(),C(h,{key:0})):(v(),C(L,{key:1,class:"easy-data-table","show-index":"",headers:E,items:U.value,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":e[0]||(e[0]=c=>_.value=c),"server-items-length":f.value},{header:u(c=>[s("span",Os,o(c.text=="#"?"S/N":c.text),1)]),"item-updated_at":u(c=>[l(o(p(b).dateDisplay(c.updated_at)),1)]),"item-created_at":u(c=>[l(o(p(b).dateDisplay(c.created_at)),1)]),_:1},8,["items","server-options","server-items-length"]))])]),Ps])])])}}}),Fs=H(Bs,[["__scopeId","data-v-51e07b42"]]);export{Fs as default};
