import{u as H}from"./paramsStore-CuuwKVYW.js";import{u}from"./useFunctions-CSDhsjro.js";import{a as k}from"./index-BpOGV5-u.js";import"./index.esm-BndVc-pT.js";import{d as A,r as y,z as te,p as K,k as X,l as N,o as g,c as v,b as e,f as d,t as o,e as i,y as Z,g as F,j as Ie,C as B,D as j,_ as U,B as $,s as r,A as P,q as ae,G as Q,H as ee,w as be,v as Re,x as Oe,M as Le}from"./index-jxWPx1sk.js";import"./sweetalert2.all-D4A-oTl2.js";import{d as fe}from"./index-DDK4UYzf.js";import{p as ke}from"./pageLoadingComponent-D3jseAg-.js";const J=m=>(B("data-v-d6c99a93"),m=m(),j(),m),Ee={class:"row g-3"},Ae={class:"card h-100 shadow-sm"},Ne=J(()=>e("div",{class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},"Information ",-1)),Pe={class:"card-body small rounded-3"},He={class:"list-group list-group-flush"},Ue={class:"list-group-item ps-0"},Me={class:"float-end"},Fe={class:"list-group-item ps-0"},Be={class:"float-end"},je={class:"list-group-item ps-0"},Ge={class:"float-end"},Ve={class:"list-group-item ps-0"},ze={class:"float-end"},Ke={class:"list-group-item ps-0"},qe={class:"float-end"},Ye={class:"list-group-item ps-0"},Je={class:"float-end"},We={key:0,class:"col-md-6"},Ze={class:"card h-100 shadow-sm",style:{"min-height":"400px"}},Xe={class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},Qe={class:"float-end"},et={class:"dropdown"},tt={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},at={class:"card-body small rounded-3"},st=J(()=>e("div",{class:"fw-bold"},"Tax Ready",-1)),ot=J(()=>e("div",{class:"text-mute my-3"}," To pay your company’s formation fee, make sure you’re not using an anonymous IP address or a VPN. ",-1)),nt=J(()=>e("div",{class:"my-3"}," Tax ID (EIN) ",-1)),rt=J(()=>e("hr",null,null,-1)),it={class:"container mt-5"},dt={class:"row justify-content-center"},ct={class:"col-lg-9"},lt={class:"progress-container"},_t=J(()=>e("div",{class:"progress-line"},null,-1)),pt=Ie('<div class="phase-label phase-1" data-v-d6c99a93>Set up <br data-v-d6c99a93> company</div><div class="phase-label phase-2" data-v-d6c99a93>Preparing <br data-v-d6c99a93> Incorporation </div><div class="phase-label phase-3" data-v-d6c99a93>Filling<br data-v-d6c99a93>Documents</div><div class="phase-label phase-4" data-v-d6c99a93>Company<br data-v-d6c99a93>Incorporated</div><div class="phase-label phase-5" data-v-d6c99a93>Tax ID<br data-v-d6c99a93>Ready</div>',5),ut={class:"col-md-6"},mt={class:"card h-100 shadow-sm",style:{border:"none"}},gt=J(()=>e("div",{class:"fw-bold card-header py-3 fs-5 bg-transparent border-0"}," Registered Office and Contact ",-1)),vt={class:"card-body"},ht={class:"list-group list-group-flush"},bt={class:"list-group-item ps-0"},ft={class:"float-end"},yt={class:"list-group-item ps-0"},xt={class:"float-end"},Dt={class:"list-group-item ps-0"},wt={class:"float-end"},$t={class:"list-group-item ps-0"},Ct={class:"float-end"},St={class:"list-group-item ps-0"},Tt={class:"float-end"},It={class:"list-group-item ps-0"},Rt={class:"float-end"},Ot={class:"col-md-6"},Lt={class:"card h-100 shadow-sm",style:{border:"none"}},kt=J(()=>e("div",{class:"card-header fs-5 py-3 fw-bold bg-transparent border-0"},"Compliance and Reporting ",-1)),Et={class:"card-body"},At={class:"list-group list-group-flush"},Nt={class:"list-group-item ps-0"},Pt={class:"float-end"},Ht={class:"list-group-item ps-0"},Ut={class:"float-end"},Mt={class:"list-group-item ps-0"},Ft={class:"float-end"},Bt={class:"list-group-item ps-0"},jt={class:"float-end"},Gt=A({__name:"companyDetails",setup(m){const b=y(!0);function S(h){return b.value=h,b.value}const D=te(()=>b.value?"col-md-6":"col-md-12"),_=H();let f=y("");const n=K({a:!1,b:!1,c:!1,d:!1,e:!1});X(async()=>{C()}),N(()=>_.hasUpdatedProgress,()=>{C()});function C(){var h;n.a=!1,n.b=!1,n.c=!1,n.d=!1,n.e=!1,f=(h=_.currentCompanyData)==null?void 0:h.registered_company[0],f.registration_progress_id==5?(n.a=!0,n.b=!0,n.c=!0,n.d=!0,n.e=!0):f.registration_progress_id==4?(n.a=!0,n.b=!0,n.c=!0,n.d=!0):f.registration_progress_id==3?(n.a=!0,n.b=!0,n.c=!0):f.registration_progress_id==2?(n.a=!0,n.b=!0):f.registration_progress_id==1&&(n.a=!0)}return(h,c)=>{var l,a,t,s,w,G,L,E,I,p,R,M,z,x,O,V,T,W,oe,ne,re,ie,de,ce,le,_e,pe,ue,me,ge,ve,he;return g(),v("div",Ee,[e("div",{class:Z(D.value,console.log(D.value,"from d class"))},[e("div",Ae,[Ne,e("div",Pe,[e("ul",He,[e("li",Ue,[d(" Company Name: "),e("span",Me,o((a=(l=i(_).currentCompanyData)==null?void 0:l.registered_company[0])==null?void 0:a.company_registered_name),1)]),e("li",Fe,[d(" Business Registration Number (BRN): "),e("span",Be,o((s=(t=i(_).currentCompanyData)==null?void 0:t.registered_company[0])==null?void 0:s.business_registered_number),1)]),e("li",je,[d(" Incorporation Date: "),e("span",Ge,o(i(u).dateDisplay((G=(w=i(_).currentCompanyData)==null?void 0:w.registered_company[0])==null?void 0:G.incorporated_date)),1)]),e("li",Ve,[d(" Company Structure: "),e("span",ze,o((E=(L=i(_).currentCompanyData)==null?void 0:L.registered_company[0])==null?void 0:E.company_structure),1)]),e("li",Ke,[d(" Company Registered In: "),e("span",qe,o((p=(I=i(_).currentCompanyData)==null?void 0:I.registered_company[0])==null?void 0:p.company_registered),1)]),e("li",Ye,[d(" Business Classification: "),e("span",Je,o((M=(R=i(_).currentCompanyData)==null?void 0:R.registered_company[0])==null?void 0:M.business_classification),1)])])])])],2),b.value?(g(),v("div",We,[e("div",Ze,[e("div",Xe,[d("Incorporation "),e("span",Qe,[e("span",et,[e("span",tt,[e("button",{type:"button",onClick:c[0]||(c[0]=hn=>S(!1)),class:"btn btn-outline-danger btn-sm"}," X")])])])]),e("div",at,[st,ot,nt,rt,e("div",it,[e("div",dt,[e("div",ct,[e("div",lt,[_t,e("i",{class:Z(n.a?"bi  bi-check-circle-fill text-success phase phase-1":"bi  bi-circle text-warning phase phase-1")},null,2),e("i",{class:Z(n.b?"bi  bi-check-circle-fill text-success phase phase-2":"bi  bi-circle text-warning phase phase-2")},null,2),e("i",{class:Z(n.c?"bi  bi-check-circle-fill text-success phase phase-3":"bi  bi-circle text-warning phase phase-3")},null,2),e("i",{class:Z(n.d?"bi  bi-check-circle-fill text-success phase phase-4":"bi  bi-circle text-warning phase phase-4")},null,2),e("i",{class:Z(n.e?"bi  bi-check-circle-fill text-success phase phase-5":"bi  bi-circle text-warning phase phase-5")},null,2),pt])])])])])])])):F("",!0),e("div",ut,[e("div",mt,[gt,e("div",vt,[e("ul",ht,[e("li",bt,[d(" Director: "),e("span",ft,o((x=(z=i(_).currentCompanyData)==null?void 0:z.office_contract[0])==null?void 0:x.directors),1)]),e("li",yt,[d(" Shareholder: "),e("span",xt,o((V=(O=i(_).currentCompanyData)==null?void 0:O.office_contract[0])==null?void 0:V.shareholders),1)]),e("li",Dt,[d(" Company Secretary: "),e("span",wt,o((W=(T=i(_).currentCompanyData)==null?void 0:T.office_contract[0])==null?void 0:W.company_secretary),1)]),e("li",$t,[d(" Registered office: "),e("span",Ct,o((ne=(oe=i(_).currentCompanyData)==null?void 0:oe.office_contract[0])==null?void 0:ne.registered_office),1)]),e("li",St,[d(" Business address: "),e("span",Tt,o((ie=(re=i(_).currentCompanyData)==null?void 0:re.office_contract[0])==null?void 0:ie.business_address),1)]),e("li",It,[d(" Designated Rep.: "),e("span",Rt,o((ce=(de=i(_).currentCompanyData)==null?void 0:de.office_contract[0])==null?void 0:ce.scr_designated_representative),1)])])])])]),e("div",Ot,[e("div",Lt,[kt,e("div",Et,[e("ul",At,[e("li",Nt,[d(" Auditor: "),e("span",Pt,o((_e=(le=i(_).currentCompanyData)==null?void 0:le.compliance_reporting[0])==null?void 0:_e.auditor_name),1)]),e("li",Ht,[d(" Business Registration Renewal: "),e("span",Ut,o(i(u).dateDisplay((ue=(pe=i(_).currentCompanyData)==null?void 0:pe.compliance_reporting[0])==null?void 0:ue.business_registration_renewal_date)),1)]),e("li",Mt,[d(" Accounting Reference Date: "),e("span",Ft,o(i(u).dateDisplay((ge=(me=i(_).currentCompanyData)==null?void 0:me.compliance_reporting[0])==null?void 0:ge.accounting_reference_date)),1)]),e("li",Bt,[d(" Annual Return Date: "),e("span",jt,o(i(u).dateDisplay((he=(ve=i(_).currentCompanyData)==null?void 0:ve.compliance_reporting[0])==null?void 0:he.annual_return_date)),1)])])])])])])}}}),Vt=U(Gt,[["__scopeId","data-v-d6c99a93"]]),ye=m=>(B("data-v-7fcdc064"),m=m(),j(),m),zt={class:"col-12"},Kt={class:"card shadow-sm"},qt=ye(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Charges ",-1)),Yt={class:"card-body"},Jt={class:"fw-bold text-muted"},Wt={key:0,class:"my-3"},Zt=ye(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Xt=A({__name:"regOfChargeTable",setup(m){const b=H(),S=[{text:"Charge Creation Date",value:"charge_creation_date"},{text:"Amount Secured by the Charge HKD",value:"account_secured_by_charge"},{text:"Type of Charge",value:"type_of_charge"},{text:"Description  of Charge",value:"charge_description"},{text:"Name of  Chargee",value:"names_of_charge"},{text:"Terms of  Charge",value:"terms_of_charge"},{text:"Registration Details",value:"registration_details"},{text:"Date Created",value:"created_at"}],D=[{text:"Charge Creation Date",value:"charge_creation_date"},{text:"Amount Secured by the Charge HKD",value:"account_secured_by_charge"},{text:"Type of Charge",value:"type_of_charge"},{text:"Description  of Charge",value:"charge_description"},{text:"Name of  Chargee",value:"names_of_charge"},{text:"Terms of  Charge",value:"terms_of_charge"},{text:"Registration Details",value:"registration_details"},{text:"DATE MODIFIED",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=async(c,l)=>{n.data=[];const t=b.currentCompanyData.register_of_charge[c];n.id=t.id,t.logs||(t.expandLoading=!0,await h(),t.logs=t.data,t.expandLoading=!1)};async function h(){var t;const c=new FormData;c.append("charge_id",n.id),c.append("page",_.value.page);const a=((t=(await k.incoprationLogs(c)).data.data)==null?void 0:t.RegisterOfChargeLog)??null;f.value=(a==null?void 0:a.total)??0,n.data=(a==null?void 0:a.data)??[]}return N(_,c=>{h()},{deep:!0}),(c,l)=>{const a=P("EasyDataTable");return g(),v("div",zt,[e("div",Kt,[qt,e("div",Yt,[$(a,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_charge,"buttons-pagination":"",onExpandRow:C},{header:r(t=>[e("span",Jt,o(t.text=="#"?"S/N":t.text),1)]),"item-charge_creation_date":r(t=>[d(o(i(u).dateDisplay(t.charge_creation_date)),1)]),"item-created_at":r(t=>[d(o(i(u).dateDisplay(t.created_at)),1)]),expand:r(t=>[t.expandLoading?F("",!0):(g(),v("div",Wt,[Zt,$(a,{class:"easy-data-table","show-index":"",headers:D,items:n.data,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>_.value=s),"server-items-length":f.value},{"item-charge_creation_date":r(s=>[d(o(i(u).dateDisplay(s.charge_creation_date)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Qt=U(Xt,[["__scopeId","data-v-7fcdc064"]]),xe=m=>(B("data-v-6aaf1205"),m=m(),j(),m),ea={class:"col-12"},ta={class:"card shadow-sm"},aa=xe(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Directors ",-1)),sa={class:"card-body"},oa={class:"fw-bold text-muted"},na={key:0,class:"my-3"},ra=xe(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),ia=A({__name:"regOfDirectorsTable",setup(m){const b=H(),S=[{text:"Date of Appointment",value:"date_of_appointment"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"reg_no"},{text:"Residential Address / Registered  Office",value:"registered_office"},{text:"Ceasing to Act",value:"ceasing_of_act"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Appointment",value:"date_of_appointment"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"reg_no"},{text:"Residential Address / Registered  Office",value:"registered_office"},{text:"Ceasing to Act",value:"ceasing_of_act"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=async(c,l)=>{n.data=[];const t=b.currentCompanyData.register_of_director[c];n.id=t.id,t.logs||(t.expandLoading=!0,await h(),t.logs=t.data,t.expandLoading=!1)};async function h(){var t;const c=new FormData;c.append("director_id",n.id),c.append("page",_.value.page);const a=((t=(await k.incoprationLogs(c)).data.data)==null?void 0:t.RegisterOfDirectorLog)??null;f.value=(a==null?void 0:a.total)??0,n.data=(a==null?void 0:a.data)??[]}return N(_,c=>{h()},{deep:!0}),(c,l)=>{const a=P("EasyDataTable");return g(),v("div",ea,[e("div",ta,[aa,e("div",sa,[$(a,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_director,"buttons-pagination":"",onExpandRow:C},{header:r(t=>[e("span",oa,o(t.text=="#"?"S/N":t.text),1)]),"item-date_of_appointment":r(t=>[d(o(i(u).dateDisplay(t.date_of_appointment)),1)]),"item-ceasing_of_act":r(t=>[d(o(i(u).dateDisplay(t.ceasing_of_act)),1)]),"item-created_at":r(t=>[d(o(i(u).dateDisplay(t.created_at)),1)]),expand:r(t=>[t.expandLoading?F("",!0):(g(),v("div",na,[ra,$(a,{class:"easy-data-table",headers:D,items:n.data,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>_.value=s),"server-items-length":f.value},{"item-date_of_appointment":r(s=>[d(o(i(u).dateDisplay(s.date_of_appointment)),1)]),"item-ceasing_of_act":r(s=>[d(o(i(u).dateDisplay(s.ceasing_of_act)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),da=U(ia,[["__scopeId","data-v-6aaf1205"]]),De=m=>(B("data-v-a577b7f6"),m=m(),j(),m),ca={class:"col-12"},la={class:"card shadow-sm"},_a=De(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Shareholders ",-1)),pa={class:"card-body"},ua={class:"fw-bold text-muted"},ma={key:0,class:"my-3"},ga=De(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),va=A({__name:"regOfShareholdersTable",setup(m){const b=H(),S=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Denomination",value:"denomination"},{text:"Current Holding",value:"current_holding"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Date Entered As a Member",value:"date_entered_as_member"},{text:"Date Ceases to Be a Member",value:"date_cease_to_be_member"},{text:"Date Created",value:"created_at"}],D=[{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Denomination",value:"denomination"},{text:"Current Holding",value:"current_holding"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Date Entered As a Member",value:"date_entered_as_member"},{text:"Date Ceases to Be a Member",value:"date_cease_to_be_member"},{text:"Date Modified",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=l=>n.id==l?n.data:[],h=async(l,a)=>{n.data=[];const s=b.currentCompanyData.register_of_shareholders[l];n.id=s.id,s.logs||(s.expandLoading=!0,await c(),s.logs=s.data,s.expandLoading=!1)};async function c(){var s;const l=new FormData;l.append("shareholder_id",n.id),l.append("page",_.value.page);const t=((s=(await k.incoprationLogs(l)).data.data)==null?void 0:s.RegisterOfShareholderLog)??null;f.value=(t==null?void 0:t.total)??0,n.data=(t==null?void 0:t.data)??[]}return N(_,l=>{c()},{deep:!0}),(l,a)=>{const t=P("EasyDataTable");return g(),v("div",ca,[e("div",la,[_a,e("div",pa,[$(t,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_shareholders,"buttons-pagination":"",onExpandRow:h},{header:r(s=>[e("span",ua,o(s.text=="#"?"S/N":s.text),1)]),"item-date_entered_as_member":r(s=>[d(o(i(u).dateDisplay(s.date_entered_as_member)),1)]),"item-date_cease_to_be_member":r(s=>[d(o(i(u).dateDisplay(s.date_cease_to_be_member)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),expand:r(s=>[s.expandLoading?F("",!0):(g(),v("div",ma,[ga,$(t,{class:"easy-data-table","show-index":"",headers:D,items:C(s.id),"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":a[0]||(a[0]=w=>_.value=w),"server-items-length":f.value},{"item-date_entered_as_member":r(w=>[d(o(i(u).dateDisplay(w.date_entered_as_member)),1)]),"item-date_cease_to_be_member":r(w=>[d(o(i(u).dateDisplay(w.date_cease_to_be_member)),1)]),"item-created_at":r(w=>[d(o(i(u).dateDisplay(w.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ha=U(va,[["__scopeId","data-v-a577b7f6"]]),q=m=>(B("data-v-56674ffb"),m=m(),j(),m),ba={class:"col-12"},fa={class:"card shadow-sm"},ya=q(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Significant Controllers ",-1)),xa={class:"card-body"},Da={class:"fw-bold text-muted"},wa={class:"card p-2 my-2 shadow-none"},$a={class:"list-group list-group-flush"},Ca={class:"list-group-item p-0"},Sa=q(()=>e("div",{class:"text-secondary fw-bold"},"Corresponding Address:",-1)),Ta={class:"list-group-item p-0"},Ia=q(()=>e("div",{class:"text-secondary fw-bold"}," Residential Address:",-1)),Ra={class:"list-group-item p-0"},Oa=q(()=>e("div",{class:"text-secondary fw-bold"},"Place of Registration:",-1)),La={class:"list-group-item p-0"},ka=q(()=>e("div",{class:"text-secondary fw-bold"},"Nature of control over company:",-1)),Ea={key:0,class:"my-3"},Aa=q(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Na={class:"card-body"},Pa={class:"fw-bold text-muted"},Ha={class:"card p-2 my-2"},Ua={class:"list-group list-group-flush"},Ma={class:"list-group-item p-0"},Fa=q(()=>e("div",{class:"text-secondary fw-bold"},"ID/Passport/ Registration No:",-1)),Ba={class:"list-group-item p-0"},ja=q(()=>e("div",{class:"text-secondary fw-bold"},"ID/Passport/ Place of Registration:",-1)),Ga={class:"list-group-item p-0"},Va=q(()=>e("div",{class:"text-secondary fw-bold"},"ID/Passport/ Nature of control over company:",-1)),za={key:0,class:"my-3"},Ka=q(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),qa=A({__name:"sigControllerTable",setup(m){const b=H(),S=[{text:"Date of Entry",value:"entry_date"},{text:"Name of Registrable Person / Legal Entity",value:"legal_entity_name"},{text:"Particulars",value:"particulars"},{text:"Date  Becoming a Registrable Person",value:"date_becoming_rep_person"},{text:"Date Cease  to Be a Registrable Person",value:"date_ceased_to_be_rep_person"},{text:"Date Created",value:"created_at"}],D=[{text:" Date of Entry",value:"entry_date"},{text:"Name (Capacity)",value:"name"},{text:"Particulars",value:"particulars"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],_=[{text:"Date of Entry",value:"entry_date"},{text:"Name of Registrable Person / Legal Entity",value:"legal_entity_name"},{text:"Corresponding Address",value:"corresponding_address"},{text:"ID/Passport/Registration No",value:"identiy_info"},{text:"Residential Address",value:"resdential_address"},{text:"Place of Registration.",value:"place_of_registration"},{text:"Nature of Control Over the Company",value:"nature_of_control_over_the_company"},{text:"Date  Becoming a Registrable Person",value:"date_becoming_rep_person"},{text:"Date Cease  to Be a Registrable Person",value:"date_ceased_to_be_rep_person"},{text:"Date MOdified",value:"created_at"}],f=[{text:" Date of Entry",value:"entry_date"},{text:"Name (Capacity)",value:"name"},{text:"ID/Passport/Registration No.",value:"identity_info"},{text:"Place of Registration",value:"place_of_registration"},{text:"Nature of Control Over the Company",value:"nature_of_control_over_the_company"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],n=y({page:1,rowsPerPage:15}),C=y({page:1,rowsPerPage:15}),h=y(0),c=K({id:"",data:[]}),l=y(0),a=K({id:"",data:[]}),t=async(L,E)=>{c.data=[];const p=b.currentCompanyData.significant_controller[L];c.id=p.id,p.logs||(p.expandLoading=!0,await w(),p.logs=p.data,p.expandLoading=!1)},s=async(L,E)=>{a.data=[];const p=b.currentCompanyData.designated_representative[L];c.id=p.id,p.logs||(p.expandLoading=!0,await w(),p.logs=p.data,p.expandLoading=!1)};async function w(){var p;const L=new FormData;L.append("controller_id",c.id),L.append("page",n.value.page);const I=((p=(await k.incoprationLogs(L)).data.data)==null?void 0:p.SignificantControllerLog)??null;h.value=(I==null?void 0:I.total)??0,c.data=(I==null?void 0:I.data)??[]}async function G(){var p;const L=new FormData;L.append("representative_id",a.id),L.append("page",C.value.page);const I=((p=(await k.incoprationLogs(L)).data.data)==null?void 0:p.DesignatedRepresentativeLog)??null;l.value=(I==null?void 0:I.total)??0,a.data=(I==null?void 0:I.data)??[]}return N(n,L=>{w()},{deep:!0}),N(C,L=>{G()},{deep:!0}),(L,E)=>{const I=P("EasyDataTable");return g(),v("div",ba,[e("div",fa,[ya,e("div",xa,[d(" Significant Controllers "),$(I,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.significant_controller,"buttons-pagination":"",onExpandRow:t},{header:r(p=>[e("span",Da,o(p.text=="#"?"S/N":p.text),1)]),"item-particulars":r(p=>{var R,M,z,x;return[e("div",wa,[e("ul",$a,[e("li",Ca,[Sa,e("span",null,o(((R=p==null?void 0:p.controllers_particulars)==null?void 0:R.corresponding_address)??"-"),1)]),e("li",Ta,[Ia,e("span",null,o(((M=p==null?void 0:p.controllers_particulars)==null?void 0:M.resdential_address)??"-"),1)]),e("li",Ra,[Oa,e("span",null,o(((z=p==null?void 0:p.controllers_particulars)==null?void 0:z.place_of_registration)??"-"),1)]),e("li",La,[ka,e("span",null,o(((x=p==null?void 0:p.controllers_particulars)==null?void 0:x.nature_of_control_over_the_company)??"-"),1)])])])]}),"item-entry_date":r(p=>[d(o(i(u).dateDisplay(p.entry_date)),1)]),"item-date_becoming_rep_person":r(p=>[d(o(i(u).dateDisplay(p.date_becoming_rep_person)),1)]),"item-date_ceased_to_be_rep_person":r(p=>[d(o(i(u).dateDisplay(p.date_ceased_to_be_rep_person)),1)]),"item-created_at":r(p=>[d(o(i(u).dateDisplay(p.created_at)),1)]),expand:r(p=>[p.expandLoading?F("",!0):(g(),v("div",Ea,[Aa,$(I,{class:"easy-data-table","show-index":"",headers:_,items:c.data,"buttons-pagination":"","server-options":n.value,"onUpdate:serverOptions":E[0]||(E[0]=R=>n.value=R),"server-items-length":h.value},{"item-charge_creation_date":r(R=>[d(o(i(u).dateDisplay(R.charge_creation_date)),1)]),"item-entry_date":r(R=>[d(o(i(u).dateDisplay(R.entry_date)),1)]),"item-date_becoming_rep_person":r(R=>[d(o(i(u).dateDisplay(R.date_becoming_rep_person)),1)]),"item-date_ceased_to_be_rep_person":r(R=>[d(o(i(u).dateDisplay(R.date_ceased_to_be_rep_person)),1)]),"item-created_at":r(R=>[d(o(i(u).dateDisplay(R.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])]),e("div",Na,[d(" Designated Representative "),$(I,{class:"easy-data-table",headers:D,items:i(b).currentCompanyData.designated_representative,"buttons-pagination":"",onExpandRow:s},{header:r(p=>[e("span",Pa,o(p.text=="#"?"S/N":p.text),1)]),"item-particulars":r(p=>{var R,M,z;return[e("div",Ha,[e("ul",Ua,[e("li",Ma,[Fa,e("span",null,o(((R=p==null?void 0:p.designated_particulars)==null?void 0:R.identity_info)??"-"),1)]),e("li",Ba,[ja,e("span",null,o(((M=p==null?void 0:p.designated_particulars)==null?void 0:M.place_of_registration)??"-"),1)]),e("li",Ga,[Va,e("span",null,o(((z=p==null?void 0:p.designated_particulars)==null?void 0:z.nature_of_control_over_the_company)??"-"),1)])])])]}),"item-entry_date":r(p=>[d(o(i(u).dateDisplay(p.entry_date)),1)]),"item-created_at":r(p=>[d(o(i(u).dateDisplay(p.created_at)),1)]),expand:r(p=>[p.expandLoading?F("",!0):(g(),v("div",za,[Ka,$(I,{class:"easy-data-table","show-index":"",headers:f,items:a.data,"buttons-pagination":"","server-options":C.value,"onUpdate:serverOptions":E[1]||(E[1]=R=>C.value=R),"server-items-length":h.value},{"item-entry_date":r(R=>[d(o(i(u).dateDisplay(R.entry_date)),1)]),"item-created_at":r(R=>[d(o(i(u).dateDisplay(R.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Ya=U(qa,[["__scopeId","data-v-56674ffb"]]),we=m=>(B("data-v-6bfa4f59"),m=m(),j(),m),Ja={class:"col-12"},Wa={class:"card shadow-sm"},Za=we(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Company Name Changes ",-1)),Xa={class:"card-body"},Qa={class:"fw-bold text-muted"},es={key:0,class:"my-3"},ts=we(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),as=A({__name:"regOfNameChangeTable",setup(m){const b=H(),S=[{text:"Date of Allotment",value:"allotment_date"},{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"DATE CREATED",value:"created_at"}],D=[{text:"Date of Allotment",value:"allotment_date"},{text:"Name and Address",value:"name"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"DATE MODIFIED",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=async(c,l)=>{n.data=[];const t=b.currentCompanyData.register_of_company_name[c];n.id=t.id,t.logs||(t.expandLoading=!0,await h(),t.logs=t.data,t.expandLoading=!1)};async function h(){var t;const c=new FormData;c.append("company_name_id",n.id),c.append("page",_.value.page);const a=((t=(await k.incoprationLogs(c)).data.data)==null?void 0:t.RegisterOfCompanyNameLog)??null;f.value=(a==null?void 0:a.total)??0,n.data=(a==null?void 0:a.data)??[]}return N(_,c=>{h()},{deep:!0}),(c,l)=>{const a=P("EasyDataTable");return g(),v("div",Ja,[e("div",Wa,[Za,e("div",Xa,[$(a,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_company_name,"buttons-pagination":"",onExpandRow:C},{header:r(t=>[e("span",Qa,o(t.text=="#"?"S/N":t.text),1)]),"item-allotment_date":r(t=>[d(o(i(u).dateDisplay(t.allotment_date)),1)]),"item-created_at":r(t=>[d(o(i(u).dateDisplay(t.created_at)),1)]),expand:r(t=>[t.expandLoading?F("",!0):(g(),v("div",es,[ts,$(a,{class:"easy-data-table","show-index":"",headers:D,items:n.data,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>_.value=s),"server-items-length":f.value},{"item-allotment_date":r(s=>[d(o(i(u).dateDisplay(s.allotment_date)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ss=U(as,[["__scopeId","data-v-6bfa4f59"]]),$e=m=>(B("data-v-e88bc454"),m=m(),j(),m),os={class:"col-12"},ns={class:"card shadow-sm"},rs=$e(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Secretaries ",-1)),is={class:"card-body"},ds={class:"fw-bold text-muted"},cs={key:0,class:"my-3"},ls=$e(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),_s=A({__name:"regOfSecretaryTable",setup(m){const b=H(),S=[{text:"Date of Appointment ",value:"appointment_date"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"identity_info"},{text:"Residential Address / Registered  Office",value:"address"},{text:"Ceasing to Act",value:"cease_to_act"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Appointment",value:"appointment_date"},{text:"Name",value:"name"},{text:"ID/ Passport / Registration No",value:"identity_info"},{text:"Residential Address / Registered  Office",value:"address"},{text:"Ceasing to Act",value:"cease_to_act"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=async(c,l)=>{n.data=[];const t=b.currentCompanyData.register_of_secretary[c];n.id=t.id,t.logs||(t.expandLoading=!0,await h(),t.logs=t.data,t.expandLoading=!1)};async function h(){var t;const c=new FormData;c.append("secretary_id",n.id),c.append("page",_.value.page);const l=await k.incoprationLogs(c);console.log(l);const a=((t=l.data.data)==null?void 0:t.RegisterOfSecretaryLog)??null;f.value=(a==null?void 0:a.total)??0,n.data=(a==null?void 0:a.data)??[]}return N(_,c=>{h()},{deep:!0}),(c,l)=>{const a=P("EasyDataTable");return g(),v("div",os,[e("div",ns,[rs,e("div",is,[$(a,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_secretary,"buttons-pagination":"",onExpandRow:C},{header:r(t=>[e("span",ds,o(t.text=="#"?"S/N":t.text),1)]),"item-cease_to_act":r(t=>[d(o(i(u).dateDisplay(t.cease_to_act)),1)]),"item-appointment_date":r(t=>[d(o(i(u).dateDisplay(t.appointment_date)),1)]),"item-created_at":r(t=>[d(o(i(u).dateDisplay(t.created_at)),1)]),expand:r(t=>[t.expandLoading?F("",!0):(g(),v("div",cs,[ls,$(a,{class:"easy-data-table","show-index":"",headers:D,items:n.data,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>_.value=s),"server-items-length":f.value},{"item-cease_to_act":r(s=>[d(o(i(u).dateDisplay(s.cease_to_act)),1)]),"item-appointment_date":r(s=>[d(o(i(u).dateDisplay(s.appointment_date)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),ps=U(_s,[["__scopeId","data-v-e88bc454"]]),Ce=m=>(B("data-v-34d49d52"),m=m(),j(),m),us={class:"col-12"},ms={class:"card shadow-sm"},gs=Ce(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Allotments ",-1)),vs={class:"card-body"},hs={class:"fw-bold text-muted"},bs={key:0,class:"my-3"},fs=Ce(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),ys=A({__name:"regOfAllotmentsTable",setup(m){const b=H(),S=[{text:"Date of Allotment ",value:"allotment_date"},{text:"Name and Address",value:"address"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Denomination",value:"denomination"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Remarks",value:"remarks"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Allotment ",value:"allotment_date"},{text:"Name and Address",value:"address"},{text:"Class of Shares",value:"class_of_shares"},{text:"Number of Shares Allotted",value:"no_of_shares_allocated"},{text:"Denomination",value:"denomination"},{text:"Total Consideration HKD",value:"total_consideration"},{text:"Remarks",value:"remarks"},{text:"Date Modified",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=async(c,l)=>{n.data=[];const t=b.currentCompanyData.register_of_allotments[c];n.id=t.id,t.logs||(t.expandLoading=!0,await h(),t.logs=t.data,t.expandLoading=!1)};async function h(){var t;const c=new FormData;c.append("allotment_id",n.id),c.append("page",_.value.page);const l=await k.incoprationLogs(c);console.log(l,"expandedItem");const a=((t=l.data.data)==null?void 0:t.RegisterOfAllotmentLog)??null;f.value=(a==null?void 0:a.total)??0,n.data=(a==null?void 0:a.data)??[]}return N(_,c=>{h()},{deep:!0}),(c,l)=>{const a=P("EasyDataTable");return g(),v("div",us,[e("div",ms,[gs,e("div",vs,[$(a,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_allotments,"buttons-pagination":"",onExpandRow:C},{header:r(t=>[e("span",hs,o(t.text=="#"?"S/N":t.text),1)]),"item-cease_to_act":r(t=>[d(o(i(u).dateDisplay(t.cease_to_act)),1)]),"item-appointment_date":r(t=>[d(o(i(u).dateDisplay(t.appointment_date)),1)]),"item-created_at":r(t=>[d(o(i(u).dateDisplay(t.created_at)),1)]),expand:r(t=>[t.expandLoading?F("",!0):(g(),v("div",bs,[fs,$(a,{class:"easy-data-table","show-index":"",headers:D,items:n.data,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>_.value=s),"server-items-length":f.value},{"item-cease_to_act":r(s=>[d(o(i(u).dateDisplay(s.cease_to_act)),1)]),"item-appointment_date":r(s=>[d(o(i(u).dateDisplay(s.appointment_date)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),xs=U(ys,[["__scopeId","data-v-34d49d52"]]),Se=m=>(B("data-v-92834308"),m=m(),j(),m),Ds={class:"col-12"},ws={class:"card shadow-sm"},$s=Se(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"}," Register of Transfers ",-1)),Cs={class:"card-body"},Ss={class:"fw-bold text-muted"},Ts={key:0,class:"my-3"},Is=Se(()=>e("div",{class:"fw-bold text-center mb-2"},"LOGS",-1)),Rs=A({__name:"regOfTransferTable",setup(m){const b=H(),S=[{text:"Date of Registration",value:"registration_date"},{text:"Transferee",value:"transferee"},{text:"Number of Shares  Transferred",value:"no_of_shares_transfered"},{text:"Total  Consideration HKD",value:"total_consideration"},{text:"Transferred/Disposal  Method",value:"transfer_method"},{text:"Date Created",value:"created_at"}],D=[{text:"Date of Registration",value:"registration_date"},{text:"Transferee",value:"transferee"},{text:"Number of Shares  Transferred",value:"no_of_shares_transfered"},{text:"Total  Consideration HKD",value:"total_consideration"},{text:"Transferred/Disposal  Method",value:"transfer_method"},{text:"Date Modified",value:"created_at"}],_=y({page:1,rowsPerPage:15}),f=y(0),n=K({id:"",data:[]}),C=async(c,l)=>{n.data=[];const t=b.currentCompanyData.register_of_transfer[c];n.id=t.id,t.logs||(t.expandLoading=!0,await h(),t.logs=t.data,t.expandLoading=!1)};async function h(){var t;const c=new FormData;c.append("transfer_id",n.id),c.append("page",_.value.page);const l=await k.incoprationLogs(c);console.log(l,"expandedItem");const a=((t=l.data.data)==null?void 0:t.RegisterOfTransferLog)??null;f.value=(a==null?void 0:a.total)??0,n.data=(a==null?void 0:a.data)??[]}return N(_,c=>{h()},{deep:!0}),(c,l)=>{const a=P("EasyDataTable");return g(),v("div",Ds,[e("div",ws,[$s,e("div",Cs,[$(a,{class:"easy-data-table",headers:S,items:i(b).currentCompanyData.register_of_transfer,"buttons-pagination":"",onExpandRow:C},{header:r(t=>[e("span",Ss,o(t.text=="#"?"S/N":t.text),1)]),"item-cease_to_act":r(t=>[d(o(i(u).dateDisplay(t.cease_to_act)),1)]),"item-appointment_date":r(t=>[d(o(i(u).dateDisplay(t.appointment_date)),1)]),"item-created_at":r(t=>[d(o(i(u).dateDisplay(t.created_at)),1)]),expand:r(t=>[t.expandLoading?F("",!0):(g(),v("div",Ts,[Is,$(a,{class:"easy-data-table","show-index":"",headers:D,items:n.data,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>_.value=s),"server-items-length":f.value},{"item-cease_to_act":r(s=>[d(o(i(u).dateDisplay(s.cease_to_act)),1)]),"item-appointment_date":r(s=>[d(o(i(u).dateDisplay(s.appointment_date)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),_:2},1032,["items","server-options","server-items-length"])]))]),_:1},8,["items"])])])])}}}),Os=U(Rs,[["__scopeId","data-v-92834308"]]),Ls={class:"row g-5"},ks=A({__name:"companyRegisters",setup(m){return(b,S)=>(g(),v("div",Ls,[$(da),$(ha),$(ps),$(xs),$(Os),$(ss),$(Qt),$(Ya)]))}}),Es=U(ks,[["__scopeId","data-v-65770736"]]),se=m=>(B("data-v-bed13d5e"),m=m(),j(),m),As={class:"row g-3"},Ns={class:"col-12"},Ps={class:"card shadow-sm"},Hs=se(()=>e("div",{class:"card-header fw-bold border-0 bg-transparent"},null,-1)),Us={class:"card-body"},Ms={class:"fw-bold text-muted"},Fs={class:"list-group list-group-flush"},Bs=["href"],js={class:"dropdown"},Gs={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Vs=se(()=>e("i",{class:"bi bi-three-dots text-primary"},null,-1)),zs={class:"dropdown-menu dropdown-menu-start"},Ks={class:"list-group list-group-flush"},qs=["onClick"],Ys=se(()=>e("i",{class:"bi bi-trash3"},null,-1)),Js=A({__name:"documents",setup(m){const b=H();X(()=>{S()});async function S(){try{const l=(await k.getDocuments(b.currentCompanyId)).data.data;_.value=l.total,f.value=l.data,n.value=!1,console.log(l)}catch{}}const D=y({page:1,rowsPerPage:15}),_=y(0),f=y([]),n=y(!0);N(D,c=>{S()},{deep:!0});const C=[{text:"DOCUMENT TITLE",value:"title"},{text:"DOCUMENT",value:"document"},{text:"DATE ADDED",value:"created_at"}];async function h(c){u.confirmDelete("Delete this document?","Yes, delete").then(async l=>{l.isConfirmed&&(await k.deleteCompanyDocument(c),u.toast("Document deleted","success"),S())})}return(c,l)=>{const a=P("isLoadingComponent"),t=P("EasyDataTable");return g(),v("div",As,[e("div",Ns,[e("div",Ps,[Hs,e("div",Us,[n.value?(g(),ae(a,{key:0})):(g(),ae(t,{key:1,class:"easy-data-table",headers:C,items:f.value,"buttons-pagination":"","server-options":D.value,"onUpdate:serverOptions":l[0]||(l[0]=s=>D.value=s),"server-items-length":_.value},{header:r(s=>[e("span",Ms,o(s.text=="#"?"S/N":s.text),1)]),"item-updated_at":r(s=>[d(o(i(u).dateDisplay(s.updated_at)),1)]),"item-created_at":r(s=>[d(o(i(u).dateDisplay(s.created_at)),1)]),"item-document":r(s=>[e("ul",Fs,[(g(!0),v(Q,null,ee(JSON.parse(s.document),(w,G)=>(g(),v("li",{key:w,class:"list-group-item p-0 border-0"},[e("a",{href:w,target:"_blank"},"Document "+o(G+1),9,Bs)]))),128))])]),"item-action":r(s=>[e("span",js,[e("span",Gs,[Vs,e("div",zs,[e("ul",Ks,[e("li",{onClick:w=>h(s.id),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[Ys,d(" Delete ")],8,qs)])])])])]),_:1},8,["items","server-options","server-items-length"]))])])])])}}}),Ws=U(Js,[["__scopeId","data-v-bed13d5e"]]),Te=m=>(B("data-v-c2d8b838"),m=m(),j(),m),Zs={class:"row g-3"},Xs={class:"col-12"},Qs={class:"card shadow-sm"},eo={class:"card-body"},to={class:"fw-bold text-muted"},ao={key:0,class:"alert alert-warning py-1 border-0 text-nowrap"},so={key:1,class:"alert alert-success py-1 border-0"},oo={key:0,class:"alert alert-warning py-1 border-0 text-nowrap"},no={key:1,class:"alert alert-success py-1 border-0"},ro=["onClick"],io=Te(()=>e("i",{class:"bi bi-arrow-clockwise"},null,-1)),co={key:1,disabled:"",class:"btn btn-primary btn-sm text-nowrap"},lo=Te(()=>e("i",{class:"bi bi-arrow-clockwise"},null,-1)),_o=A({__name:"founders",setup(m){const b=H(),S=y(0),D=y([]),_=y({page:1,rowsPerPage:15});X(()=>{f()});async function f(){try{const h=new URLSearchParams(_.value).toString(),l=(await k.userCompanyFounders(b.currentCompanyId,h)).data.data;S.value=l.total;const a=l.data,t=[];a.length&&a.forEach(s=>{var E,I;const w=s.individual||s.corporate,G=JSON.parse(s.entity_capacity_id),L=G.includes("1")?G.includes("2")?"Shareholder & Director":"Shareholder":"Director";w&&(w.name=s.entity_type_id==1?`${w.first_name} ${w.last_name}`:`${w.company_name}`,w.copOrInd=s.entity_type_id==1?"Individual":"Corporate",w.shareOrDir=L,w.email=s.entity_type_id==1?w.email:"",w.phone=s.entity_type_id==1?w.phone:"",w.authorizedPersonEmail=s.entity_type_id==1?"":(E=s==null?void 0:s.corporate)==null?void 0:E.authorized_persons.email,w.authorizedPersonPhone=s.entity_type_id==1?"":(I=s==null?void 0:s.corporate)==null?void 0:I.authorized_persons.phone,w.kyc_status=s.kyc_status,w.signature=s.signature,t.push(w))}),D.value=t}catch{}}N(_,h=>{f()},{deep:!0});const n=[{text:"NAME",value:"name"},{text:"TYPE",value:"copOrInd"},{text:"CAPACITY",value:"shareOrDir"},{text:"EMAIL",value:"email"},{text:"AUTHORIZED PERSON'S EMAIL",value:"authorizedPersonEmail"},{text:"AUTHORIZED PERSON'S PHONE",value:"authorizedPersonPhone"},{text:"PHONE",value:"phone"},{text:"KYC STATUS",value:"kyc_status"},{text:"SIGNATURE",value:"signature"},{text:"ACTION",value:"action"}];y(!1);async function C(h){const c=D.value.find(l=>l.company_entity_id==h);c.isSendingEmail=!0;try{const l=new FormData;l.append("company_id",b.currentCompanyId),l.append("company_entity_id",h),(await k.userResendEmail(l)).status==200?(u.toast("Email Sent","success"),c.isSendingEmail=null):(u.toast("Email not sent, something went wrong","error"),c.isSendingEmail=null)}catch{u.toast("Network error, something went wrong","error"),c.isSendingEmail=null}}return(h,c)=>{const l=P("EasyDataTable");return g(),v("div",Zs,[e("div",Xs,[e("div",Qs,[e("div",eo,[$(l,{class:"easy-data-table",headers:n,items:D.value,"buttons-pagination":"","server-options":_.value,"onUpdate:serverOptions":c[0]||(c[0]=a=>_.value=a),"server-items-length":S.value},{header:r(a=>[e("span",to,o(a.text=="#"?"S/N":a.text),1)]),"item-kyc_status":r(a=>[a.kyc_status?(g(),v("span",so,"Verified")):(g(),v("span",ao,"Not Verified"))]),"item-signature":r(a=>[a.signature?(g(),v("span",no,"Signed")):(g(),v("span",oo,"Not Signed"))]),"item-action":r(a=>[a.isSendingEmail?(g(),v("button",co,[lo,d(" Sending .. ")])):(g(),v("button",{key:0,onClick:t=>C(a.company_entity_id),class:"btn btn-primary btn-sm text-nowrap"},[io,d(" Resend Email ")],8,ro))]),_:1},8,["items","server-options","server-items-length"])])])])])}}}),po=U(_o,[["__scopeId","data-v-c2d8b838"]]),Y=m=>(B("data-v-aeb65188"),m=m(),j(),m),uo={class:"row g-3"},mo={class:"col-12"},go={class:"card shadow-sm"},vo={class:"card-body"},ho={class:"row g-3 mb-4"},bo={class:"col-lg-6"},fo={class:"card border-0 h-100"},yo={class:"card-body"},xo=Y(()=>e("div",{class:"form-label"},"Team Invitation",-1)),Do={class:"list-group list-group-flush mt-3"},wo={class:"list-group-item px-0"},$o={class:"row justify-content-between align-items-center"},Co=["onClick"],So={key:0,class:"me-3 bi bi-check-circle-fill"},To={key:1,class:"me-3 bi bi-circle"},Io={class:"col-lg-6"},Ro={class:"row g-3"},Oo={key:0,class:"col-12"},Lo=Y(()=>e("option",{value:"",selected:"",disabled:""},"Select Role",-1)),ko=["value"],Eo={key:1,class:"col-12"},Ao={class:"card h-100 exemptio border-0 bg-light-subtle text-capitalize"},No={class:"card-header"},Po={class:"float-end"},Ho=Y(()=>e("i",{class:"bi bi-send"},null,-1)),Uo={key:1,class:"btn btn-secondary btn-sm",type:"button",disabled:""},Mo=Y(()=>e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1)),Fo={class:"card-body",style:{height:"280px","overflow-y":"scroll"}},Bo={class:"list-group list-group-flush small"},jo={class:"list-group-item ps-0"},Go=Y(()=>e("div",{class:"div fw-bold mb-3"},"Team Members:",-1)),Vo={class:"fw-bold text-muted"},zo={key:0},Ko=Y(()=>e("span",{class:"badge bg-success"},"Active",-1)),qo=[Ko],Yo={key:1},Jo=Y(()=>e("span",{class:"badge bg-danger"},"Blocked ",-1)),Wo=[Jo],Zo={class:"dropdown"},Xo={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Qo=Y(()=>e("i",{class:"bi bi-three-dots text-primary"},null,-1)),en={class:"dropdown-menu dropdown-menu-start"},tn={class:"list-group list-group-flush"},an=["onClick"],sn=Y(()=>e("i",{class:"bi bi-exclamation-circle-fill"},null,-1)),on=A({__name:"teams",setup(m){const b=H(),S=fe.useToast();X(()=>{w(),G(),L()}),y("");const D=y(""),_=y([]),f=y([]),n=y(""),C=te(()=>{let x=[];return n.value?(x=f.value.filter(O=>O.email.includes(n.value)),x.length&&x.forEach(O=>{O.isSelected=!1}),console.log(x)):(D.value="",h.value=null),x}),h=y(null),c=x=>{h.value=x,f.value.forEach(O=>{O.isSelected=!1}),x.isSelected=!0};async function l(x){const O=new FormData,V=_.value.teams.id;O.append("team_id",V),O.append("user_id",x);const T=await k.removeUserfromTeam(O);I.value=T.data.data,L(),console.log(I)}const a=te(()=>{let x=null;return D.value&&(x=_.value.roles.find(O=>O.name.toLowerCase()===D.value.toLowerCase())),x}),t=y(!1);async function s(){t.value=!0;try{const x=new FormData,O=C.value[0],V=_.value.teams.id;x.append("company_id",b.currentCompanyId),x.append("user_id",O.id),x.append("email",h.value.email),x.append("role",D.value),x.append("team_id",V);const T=await k.userTeamsInvitation(x);console.log(T),T.status==200?(S.info("Invitation Sent Sucessfully",{position:"top-right"}),n.value="",t.value=!1):T.status==203&&(S.info("User already exist in the team",{position:"top-right"}),t.value=!1)}catch{t.value=!1,S.error("Something went Wrong",{position:"top-right"})}}async function w(){try{const x=await k.userGetCompany(b.currentCompanyId);_.value=x.data.data}catch{}}async function G(){try{const x=await k.getUsers("?page=1");f.value=x.data.data.data}catch{}}async function L(){try{const x=new FormData;x.append("company_id",b.currentCompanyId),x.append("team_id","23");const V=(await k.userTeamMembers(x)).data.data;p.value=V.total,I.value=V,R.value=!1}catch{}}const E=y(0),I=y([]),p=y(0),R=y(!0),M=y({page:1,rowsPerPage:15});N(M,x=>{L()},{deep:!0});const z=[{text:"NAME",value:"users.name"},{text:"STATUS",value:"action_status"},{text:"ROLE",value:"role"},{text:"DATE ADDED",value:"created_at"},{text:"ACTION",value:"action"}];return(x,O)=>{const V=P("EasyDataTable");return g(),v("div",uo,[e("div",mo,[e("div",go,[e("div",vo,[e("div",ho,[e("div",bo,[e("div",fo,[e("div",yo,[xo,be(e("input",{"onUpdate:modelValue":O[0]||(O[0]=T=>n.value=T),type:"text",class:"form-control",placeholder:"search user by email"},null,512),[[Re,n.value]]),e("ul",Do,[(g(!0),v(Q,null,ee(C.value,T=>(g(),v("li",wo,[e("div",$o,[e("div",{onClick:W=>c(T),class:"col-lg-7 text-info-emphasis fw-bold small cursor-pointer"},[T.isSelected?(g(),v("i",So)):(g(),v("i",To)),d(" "+o(T.email),1)],8,Co)])]))),256))])])])]),e("div",Io,[e("div",Ro,[h.value&&C.value.length?(g(),v("div",Oo,[be(e("select",{"onUpdate:modelValue":O[1]||(O[1]=T=>D.value=T),class:"form-select form-select-sm text-capitalize"},[Lo,(g(!0),v(Q,null,ee(_.value.roles,T=>(g(),v("option",{value:T.name},o(T.name),9,ko))),256))],512),[[Oe,D.value]])])):F("",!0),a.value&&C.value.length?(g(),v("div",Eo,[e("div",Ao,[e("div",No,[d(o(a.value.description)+" ",1),e("div",Po,[t.value?(g(),v("button",Uo,[Mo,d(" Sending ")])):(g(),v("button",{key:0,onClick:s,class:"btn btn-sm btn-secondary"},[d(" Invite User "),Ho]))])]),e("div",Fo,[e("ul",Bo,[(g(!0),v(Q,null,ee(a.value.permission,T=>(g(),v("li",jo,[e("strong",null,o(T.name),1),e("div",null,o(T.description),1)]))),256))])])])])):F("",!0)])])]),Go,$(V,{class:"easy-data-table",headers:z,items:I.value,"buttons-pagination":"","server-options":M.value,"onUpdate:serverOptions":O[2]||(O[2]=T=>M.value=T),"server-items-length":E.value},{header:r(T=>[e("span",Vo,o(T.text),1)]),"item-created_at":r(T=>[d(o(i(u).dateDisplay(T.created_at,"m,y,t")),1)]),"item-action_status":r(T=>{var W;return[((W=T.users)==null?void 0:W.status)==1?(g(),v("span",zo,qo)):(g(),v("span",Yo,Wo))]}),"item-action":r(T=>[e("span",Zo,[e("span",Xo,[Qo,e("div",en,[e("ul",tn,[e("li",{onClick:W=>l(T.user_id),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[sn,d(" Remove from Team ")],8,an)])])])])]),_:1},8,["items","server-options","server-items-length"])])])])])}}}),nn=U(on,[["__scopeId","data-v-aeb65188"]]),rn={key:0},dn={key:1,class:"car p-3"},cn={class:"card-body"},ln=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link active",id:"tab1-tab","data-bs-toggle":"tab","data-bs-target":"#tab1",type:"button",role:"tab","aria-controls":"tab1","aria-selected":"true"}," Company details ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab2-tab","data-bs-toggle":"tab","data-bs-target":"#tab2",type:"button",role:"tab","aria-controls":"tab2","aria-selected":"false"}," Company Registers ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab4-tab","data-bs-toggle":"tab","data-bs-target":"#tab4",type:"button",role:"tab","aria-controls":"tab4","aria-selected":"false"}," Documents ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab5-tab","data-bs-toggle":"tab","data-bs-target":"#tab5",type:"button",role:"tab","aria-controls":"tab5","aria-selected":"false"}," Team Members ")]),e("li",{class:"nav-item single-list-items",role:"presentation"},[e("button",{class:"nav-link",id:"tab6-tab","data-bs-toggle":"tab","data-bs-target":"#tab6",type:"button",role:"tab","aria-controls":"tab6","aria-selected":"false"}," Verifications ")])],-1),_n={key:1,class:"tab-content py-4"},pn={class:"tab-pane active",id:"tab1",role:"tabpanel","aria-labelledby":"tab1-tab"},un={class:"tab-pane",id:"tab2",role:"tabpanel","aria-labelledby":"tab2-tab"},mn={class:"tab-pane",id:"tab4",role:"tabpanel","aria-labelledby":"tab4-tab"},gn={class:"tab-pane",id:"tab5",role:"tabpanel","aria-labelledby":"tab5-tab"},vn={class:"tab-pane",id:"tab6",role:"tabpanel","aria-labelledby":"tab6-tab"},Sn=A({__name:"Company",setup(m){const b=H(),S=Le(),D=fe.useToast(),_=y(!0),f=y(!0);X(()=>{n()});function n(){S.query.invite?h():C()}async function C(){f.value=!1,await b.getCompanyDetails(),_.value=!1}async function h(){const c=S.query.invite;try{const l=new FormData;l.append("token",c);const a=await k.userTeamsInvitationAccept(l);console.log(a),a.status==200?(D.info("Invitation Accepted, you have been added to this team",{position:"top-right"}),b.currentCompanyId=a.data.data.companyId,C()):a.status==203&&D.info("This Token is invalid",{position:"top-right"})}catch(l){console.log(l),D.error("Something went Wrong",{position:"top-right"})}}return(c,l)=>{const a=P("isLoadingComponent");return f.value?(g(),v("div",rn,[$(ke)])):(g(),v("div",dn,[e("div",cn,[ln,_.value?(g(),ae(a,{key:0})):(g(),v("div",_n,[e("div",pn,[$(Vt)]),e("div",un,[$(Es)]),e("div",mn,[$(Ws)]),e("div",gn,[$(nn)]),e("div",vn,[$(po)])]))])]))}}});export{Sn as default};
