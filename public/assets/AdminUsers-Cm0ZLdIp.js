import{a as f}from"./index-D_5T071w.js";import{u as D}from"./useFunctions-RAoq4ni5.js";import{u as I}from"./adminParamsStore-CJh9XLZ0.js";import{d as T,a as E,k as L,r as d,l as B,o,c as i,b as t,q as y,s as p,t as x,f as u,e as N,A as w,D as O,E as P,_ as M}from"./index-d_WrL_zj.js";import"./sweetalert2.all-B42Q-opr.js";const r=c=>(O("data-v-ef91f3ef"),c=c(),P(),c),R={class:"container min-vh-100"},V=r(()=>t("h5",{class:"fw-bold page-title mb-4"}," Registerd Users",-1)),$={class:"row g-3"},q={class:"col-12"},F={class:"card"},G={class:"card-body"},j={class:"fw-bold text-muted"},z={key:0,class:"badge bg-success-subtle text-dark",style:{width:"60px"}},H={key:1,class:"badge bg-warning-subtle text-dark",style:{width:"60px"}},J={class:"dropdown"},K={class:"cursor-pointer bell dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Q=r(()=>t("i",{class:"bi bi-three-dots text-primary"},null,-1)),W={class:"dropdown-menu dropdown-menu-start"},X={class:"list-group list-group-flush"},Y=["onClick"],Z=r(()=>t("i",{class:"bi bi-eye"},null,-1)),tt=["onClick"],st=r(()=>t("i",{class:"bi bi-exclamation-circle-fill"},null,-1)),et=["onClick"],at=r(()=>t("i",{class:"bi bi-check-circle-fill"},null,-1)),ot=T({__name:"AdminUsers",setup(c){const k=I(),C=E();L(()=>{_()});async function _(){try{const a=new URLSearchParams(l.value).toString(),e=(await f.getUsers(a)).data.data;m.value=e.total,h.value=e.data,g.value=!1}catch{}}const l=d({page:1,rowsPerPage:15}),m=d(0),h=d([]),g=d(!0),S=[{text:"NAME",value:"name"},{text:"EMAIL",value:"email"},{text:"STATUS",value:"status"},{text:"LAST LOGIN",value:"last_login"},{text:"ACTION",value:"action"}];B(l,a=>{_()},{deep:!0});function A(a){k.isCompaniesByUser=a,C.push({path:"/admin/companies"})}async function v(a,n){try{const e=new FormData;e.append("user_id",a),e.append("status",n),await f.updateUserStatus(e),_()}catch{}}return(a,n)=>{const e=w("isLoadingComponent"),U=w("EasyDataTable");return o(),i("div",R,[V,t("div",$,[t("div",q,[t("div",F,[t("div",G,[g.value?(o(),y(e,{key:0})):(o(),y(U,{key:1,class:"easy-data-table","show-index":"",headers:S,items:h.value,"buttons-pagination":"","server-options":l.value,"onUpdate:serverOptions":n[0]||(n[0]=s=>l.value=s),"server-items-length":m.value},{header:p(s=>[t("span",j,x(s.text=="#"?"S/N":s.text),1)]),"item-last_login":p(s=>[u(x(N(D).dateDisplay(s.last_login)),1)]),"item-status":p(s=>[s.status==1?(o(),i("span",z,"ACTIVE")):(o(),i("span",H,"DISABLED"))]),"item-action":p(s=>[t("span",J,[t("span",K,[Q,t("div",W,[t("ul",X,[t("li",{onClick:b=>A(s.id),class:"dropdown-item text-primary",style:{"background-color":"transparent !important"}},[Z,u(" Companies ")],8,Y),s.status==1?(o(),i("li",{key:0,onClick:b=>v(s.id,2),class:"dropdown-item text-danger",style:{"background-color":"transparent !important"}},[st,u(" Disable user ")],8,tt)):(o(),i("li",{key:1,onClick:b=>v(s.id,1),class:"dropdown-item text-success",style:{"background-color":"transparent !important"}},[at,u(" Activate user ")],8,et))])])])])]),_:1},8,["items","server-options","server-items-length"]))])])])])])}}}),dt=M(ot,[["__scopeId","data-v-ef91f3ef"]]);export{dt as default};
